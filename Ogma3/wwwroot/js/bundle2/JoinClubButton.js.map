{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\svelte-webcomponents\\JoinClubButton.svelte"],
  "sourcesContent": [
    "import 'svelte/internal/disclose-version';\nimport * as $ from 'svelte/internal/client';\nimport { log } from \"../src-helpers/logger\";\n\nimport {\n\tPostApiClubjoin as joinClub,\n\tDeleteApiClubjoin as leaveClub\n} from \"../generated/paths-public\";\n\nasync function handleJoinToggle(_, isLoading, isMember, $$props) {\n\tif ($.get(isLoading)) return;\n\t$.set(isLoading, true);\n\n\tconst action = $.get(isMember) ? leaveClub : joinClub;\n\n\ttry {\n\t\tconst res = await action({ clubId: $$props.clubId }, { RequestVerificationToken: $$props.csrf });\n\n\t\tif (res.ok) {\n\t\t\t$.set(isMember, res.data === true);\n\t\t} else {\n\t\t\tlog.warn(`Failed to ${$.get(isMember) ? \"leave\" : \"join\"} club: ${res.statusText}`);\n\t\t}\n\t} catch(error) {\n\t\tlog.error(\"Error during join/leave action:\", error);\n\t} finally {\n\t\t$.set(isLoading, false);\n\t}\n}\n\nvar root = $.template(`<button> <!></button>`);\n\nfunction JoinClubButton($$anchor, $$props) {\n\t$.push($$props, true);\n\n\t// Reactive state\n\tlet isMember = $.state($.proxy($$props.isMember));\n\tlet isLoading = $.state(false);\n\t// Derived state\n\tconst buttonText = $.derived(() => $.get(isMember) ? \"Leave club\" : \"Join club\");\n\tconst buttonTitle = $.derived(() => $.get(isMember) ? \"Leave\" : \"Join\");\n\tconst buttonClass = $.derived(() => `button max ${$.get(isMember) ? \"leave\" : \"join\"}`);\n\tvar button = root();\n\n\tbutton.__click = [\n\t\thandleJoinToggle,\n\t\tisLoading,\n\t\tisMember,\n\t\t$$props\n\t];\n\n\tvar text = $.child(button);\n\tvar node = $.sibling(text);\n\n\t{\n\t\tvar consequent = ($$anchor) => {\n\t\t\tvar text_1 = $.text('...');\n\n\t\t\t$.append($$anchor, text_1);\n\t\t};\n\n\t\t$.if(node, ($$render) => {\n\t\t\tif ($.get(isLoading)) $$render(consequent);\n\t\t});\n\t}\n\n\t$.reset(button);\n\n\t$.template_effect(() => {\n\t\t$.set_class(button, 1, $.clsx($.get(buttonClass)), 'svelte-3cbbf632f4u2i');\n\t\t$.set_attribute(button, 'title', $.get(buttonTitle));\n\t\tbutton.disabled = $.get(isLoading);\n\t\t$.set_text(text, `${$.get(buttonText) ?? ''} `);\n\t});\n\n\t$.append($$anchor, button);\n\t$.pop();\n}\n\nif (import.meta.hot) {\n\tJoinClubButton = $.hmr(JoinClubButton, () => JoinClubButton[$.HMR].source);\n\n\timport.meta.hot.accept((module) => {\n\t\t$.cleanup_styles('svelte-3cbbf632f4u2i');\n\t\tmodule.default[$.HMR].source = JoinClubButton[$.HMR].source;\n\t\t$.set(JoinClubButton[$.HMR].source, module.default[$.HMR].original);\n\t});\n}\n\nexport default JoinClubButton;\n\n$.delegate(['click']);\nif (customElements.get('my-element') == null) customElements.define('my-element', $.create_custom_element(JoinClubButton, { clubId: {}, csrf: {}, isMember: {} }, [], [], true));\nimport \"bun-svelte:JoinClubButton.svelte-19vun07zjlwf9-style.css\";"
  ],
  "mappings": "kPASA,SAAe,CAAgB,CAAC,EAAG,EAAW,EAAU,EAAS,CAChE,GAAM,EAAI,CAAS,EAAG,OACpB,EAAI,EAAW,EAAI,EAErB,IAAM,EAAW,EAAI,CAAQ,EAAI,EAAY,EAE7C,GAAI,CACH,IAAM,EAAM,MAAM,EAAO,CAAE,OAAQ,EAAQ,MAAO,EAAG,CAAE,yBAA0B,EAAQ,IAAK,CAAC,EAE/F,GAAI,EAAI,GACL,EAAI,EAAU,EAAI,OAAS,EAAI,EAEjC,OAAI,KAAK,aAAe,EAAI,CAAQ,EAAI,QAAU,gBAAgB,EAAI,YAAY,EAElF,MAAM,EAAO,CACd,EAAI,MAAM,kCAAmC,CAAK,SACjD,CACC,EAAI,EAAW,EAAK,GAIxB,IAAI,EAAS,EAAS,uBAAuB,EAE7C,SAAS,CAAc,CAAC,EAAU,EAAS,CACxC,EAAK,EAAS,EAAI,EAGpB,IAAI,EAAa,EAAQ,EAAM,EAAQ,QAAQ,CAAC,EAC5C,EAAc,EAAM,EAAK,EAEvB,EAAe,EAAQ,IAAQ,EAAI,CAAQ,EAAI,aAAe,WAAW,EACzE,EAAgB,EAAQ,IAAQ,EAAI,CAAQ,EAAI,QAAU,MAAM,EAChE,EAAgB,EAAQ,IAAM,cAAgB,EAAI,CAAQ,EAAI,QAAU,QAAQ,EACtF,IAAI,EAAS,EAAK,EAElB,EAAO,QAAU,CAChB,EACA,EACA,EACA,CACD,EAEA,IAAI,EAAS,EAAM,CAAM,EACrB,EAAS,EAAQ,CAAI,EAEzB,CACC,IAAI,EAAa,CAAC,IAAa,CAC9B,IAAI,EAAW,EAAK,KAAK,EAEvB,EAAO,EAAU,CAAM,GAGxB,EAAG,EAAM,CAAC,IAAa,CACxB,GAAM,EAAI,CAAS,EAAG,EAAS,CAAU,EACzC,CACF,CAEE,EAAM,CAAM,EAEZ,EAAgB,IAAM,CACrB,EAAU,EAAQ,EAAK,EAAO,EAAI,CAAW,CAAC,EAAG,sBAAsB,EACvE,EAAc,EAAQ,QAAW,EAAI,CAAW,CAAC,EACnD,EAAO,SAAa,EAAI,CAAS,EAC/B,EAAS,EAAM,GAAK,EAAI,CAAU,GAAK,KAAK,EAC9C,EAEC,EAAO,EAAU,CAAM,EACvB,EAAI,EAaP,IAAe,IAEb,EAAS,CAAC,OAAO,CAAC,EACpB,GAAI,eAAe,IAAI,YAAY,GAAK,KAAM,eAAe,OAAO,aAAgB,EAAsB,EAAgB,CAAE,OAAQ,CAAC,EAAG,KAAM,CAAC,EAAG,SAAU,CAAC,CAAE,EAAG,CAAC,EAAG,CAAC,EAAG,EAAI,CAAC",
  "debugId": "762B3B09B87CFB6C64756E2164756E21",
  "names": []
}