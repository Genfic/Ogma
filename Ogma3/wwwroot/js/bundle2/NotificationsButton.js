import{c as E,k as P}from"./chunk-rnytdpz1.js";import{v as Q}from"./Icon.js";import{A as g,B as f,D as h,F as l,H as A,I as F,J as G,N as b,R as y,S as H,T as z,aa as J,ga as K,ja as O,x as k,y as x,z as v}from"./chunk-hmv3z8hd.js";var M=b('<span class="svelte-3cxpqdu8kfwfi"> </span>'),T=b('<span class="svelte-3cxpqdu8kfwfi">...</span>'),q=b('<a class="nav-link light notifications-btn svelte-3cxpqdu8kfwfi" href="/notifications"><!> <!> <!></a>');function R(U,V){F(V,!0);let d=k(null),w=k(!0);K(async()=>{try{let e=await P();if(e.ok)x(d,e.data,!0);else E.error(`Failed to fetch notification count: ${e.statusText}`),x(d,0)}catch(e){E.error("Error fetching notification count:",e),x(d,0)}finally{x(w,!1)}});let S=v(()=>()=>{if(l(d)===null||l(d)<=0)return null;return l(d)<=99?l(d).toString():"99+"}),W=v(()=>()=>{if(l(d)===null||l(d)<=0)return"Notifications";return`${l(d)} notification${l(d)===1?"":"s"}`});var m=q(),j=f(m);Q(j,{class:"material-icons-outlined",icon:"lucide:bell"});var D=h(j,2);{var X=(e)=>{var p=M(),I=f(p,!0);g(p),A(()=>H(I,l(S))),y(e,p)};z(D,(e)=>{if(!l(w)&&l(S)!==null)e(X)})}var Y=h(D,2);{var Z=(e)=>{var p=T();y(e,p)};z(Y,(e)=>{if(l(w))e(Z)})}g(m),A(()=>J(m,"title",l(W))),y(U,m),G()}var ll=R;if(customElements.get("my-element")==null)customElements.define("my-element",O(R,{},[],[],!0));export{ll as default};

//# debugId=E957D01FD7D746D164756E2164756E21
//# sourceMappingURL=NotificationsButton.js.map
