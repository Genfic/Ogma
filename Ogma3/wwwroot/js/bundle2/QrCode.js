import{A as k,B as v,C as i,F as A,G as o,H as t,I as r,J as e,N as R,Q as J1,R as S,S as Z1,T as g,V as W1,ia as b,ja as F1,x as $,y as L}from"./chunk-hmv3z8hd.js";var M=((J)=>{return J[J.Border=-1]="Border",J[J.Data=0]="Data",J[J.Function=1]="Function",J[J.Position=2]="Position",J[J.Timing=3]="Timing",J[J.Alignment=4]="Alignment",J})(M||{}),X1=Object.defineProperty,q1=(J,Z,W)=>(Z in J)?X1(J,Z,{enumerable:!0,configurable:!0,writable:!0,value:W}):J[Z]=W,B=(J,Z,W)=>{return q1(J,typeof Z!=="symbol"?Z+"":Z,W),W},f1=[0,1],x=[1,0],c=[2,3],m=[3,2],Y1={L:f1,M:x,Q:c,H:m},z1=/^[0-9]*$/,O1=/^[A-Z0-9 $%*+.\/:-]*$/,w="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",_=1,D=40,C=3,V1=3,H=40,U1=10,p=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],y=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class l{constructor(J,Z,W,F){if(this.version=J,this.ecc=Z,B(this,"size"),B(this,"mask"),B(this,"modules",[]),B(this,"types",[]),J<_||J>D)throw new RangeError("Version value out of range");if(F<-1||F>7)throw new RangeError("Mask value out of range");this.size=J*4+17;let K=Array.from({length:this.size},()=>!1);for(let G=0;G<this.size;G++)this.modules.push(K.slice()),this.types.push(K.map(()=>0));this.drawFunctionPatterns();let X=this.addEccAndInterleave(W);if(this.drawCodewords(X),F===-1){let G=1e9;for(let Y=0;Y<8;Y++){this.applyMask(Y),this.drawFormatBits(Y);let q=this.getPenaltyScore();if(q<G)F=Y,G=q;this.applyMask(Y)}}this.mask=F,this.applyMask(F),this.drawFormatBits(F)}getModule(J,Z){return J>=0&&J<this.size&&Z>=0&&Z<this.size&&this.modules[Z][J]}drawFunctionPatterns(){for(let W=0;W<this.size;W++)this.setFunctionModule(6,W,W%2===0,M.Timing),this.setFunctionModule(W,6,W%2===0,M.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let J=this.getAlignmentPatternPositions(),Z=J.length;for(let W=0;W<Z;W++)for(let F=0;F<Z;F++)if(!(W===0&&F===0||W===0&&F===Z-1||W===Z-1&&F===0))this.drawAlignmentPattern(J[W],J[F]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(J){let Z=this.ecc[1]<<3|J,W=Z;for(let K=0;K<10;K++)W=W<<1^(W>>>9)*1335;let F=(Z<<10|W)^21522;for(let K=0;K<=5;K++)this.setFunctionModule(8,K,I(F,K));this.setFunctionModule(8,7,I(F,6)),this.setFunctionModule(8,8,I(F,7)),this.setFunctionModule(7,8,I(F,8));for(let K=9;K<15;K++)this.setFunctionModule(14-K,8,I(F,K));for(let K=0;K<8;K++)this.setFunctionModule(this.size-1-K,8,I(F,K));for(let K=8;K<15;K++)this.setFunctionModule(8,this.size-15+K,I(F,K));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let J=this.version;for(let W=0;W<12;W++)J=J<<1^(J>>>11)*7973;let Z=this.version<<12|J;for(let W=0;W<18;W++){let F=I(Z,W),K=this.size-11+W%3,X=Math.floor(W/3);this.setFunctionModule(K,X,F),this.setFunctionModule(X,K,F)}}drawFinderPattern(J,Z){for(let W=-4;W<=4;W++)for(let F=-4;F<=4;F++){let K=Math.max(Math.abs(F),Math.abs(W)),X=J+F,G=Z+W;if(X>=0&&X<this.size&&G>=0&&G<this.size)this.setFunctionModule(X,G,K!==2&&K!==4,M.Position)}}drawAlignmentPattern(J,Z){for(let W=-2;W<=2;W++)for(let F=-2;F<=2;F++)this.setFunctionModule(J+F,Z+W,Math.max(Math.abs(F),Math.abs(W))!==1,M.Alignment)}setFunctionModule(J,Z,W,F=M.Function){this.modules[Z][J]=W,this.types[Z][J]=F}addEccAndInterleave(J){let Z=this.version,W=this.ecc;if(J.length!==N(Z,W))throw new RangeError("Invalid argument");let F=y[W[0]][Z],K=p[W[0]][Z],X=Math.floor(E(Z)/8),G=F-X%F,Y=Math.floor(X/F),q=[],V=B1(K);for(let f=0,O=0;f<F;f++){let U=J.slice(O,O+Y-K+(f<G?0:1));O+=U.length;let j=H1(U,V);if(f<G)U.push(0);q.push(U.concat(j))}let z=[];for(let f=0;f<q[0].length;f++)q.forEach((O,U)=>{if(f!==Y-K||U>=G)z.push(O[f])});return z}drawCodewords(J){if(J.length!==Math.floor(E(this.version)/8))throw new RangeError("Invalid argument");let Z=0;for(let W=this.size-1;W>=1;W-=2){if(W===6)W=5;for(let F=0;F<this.size;F++)for(let K=0;K<2;K++){let X=W-K,Y=(W+1&2)===0?this.size-1-F:F;if(!this.types[Y][X]&&Z<J.length*8)this.modules[Y][X]=I(J[Z>>>3],7-(Z&7)),Z++}}}applyMask(J){if(J<0||J>7)throw new RangeError("Mask value out of range");for(let Z=0;Z<this.size;Z++)for(let W=0;W<this.size;W++){let F;switch(J){case 0:F=(W+Z)%2===0;break;case 1:F=Z%2===0;break;case 2:F=W%3===0;break;case 3:F=(W+Z)%3===0;break;case 4:F=(Math.floor(W/3)+Math.floor(Z/2))%2===0;break;case 5:F=W*Z%2+W*Z%3===0;break;case 6:F=(W*Z%2+W*Z%3)%2===0;break;case 7:F=((W+Z)%2+W*Z%3)%2===0;break;default:throw new Error("Unreachable")}if(!this.types[Z][W]&&F)this.modules[Z][W]=!this.modules[Z][W]}}getPenaltyScore(){let J=0;for(let K=0;K<this.size;K++){let X=!1,G=0,Y=[0,0,0,0,0,0,0];for(let q=0;q<this.size;q++)if(this.modules[K][q]===X){if(G++,G===5)J+=C;else if(G>5)J++}else{if(this.finderPenaltyAddHistory(G,Y),!X)J+=this.finderPenaltyCountPatterns(Y)*H;X=this.modules[K][q],G=1}J+=this.finderPenaltyTerminateAndCount(X,G,Y)*H}for(let K=0;K<this.size;K++){let X=!1,G=0,Y=[0,0,0,0,0,0,0];for(let q=0;q<this.size;q++)if(this.modules[q][K]===X){if(G++,G===5)J+=C;else if(G>5)J++}else{if(this.finderPenaltyAddHistory(G,Y),!X)J+=this.finderPenaltyCountPatterns(Y)*H;X=this.modules[q][K],G=1}J+=this.finderPenaltyTerminateAndCount(X,G,Y)*H}for(let K=0;K<this.size-1;K++)for(let X=0;X<this.size-1;X++){let G=this.modules[K][X];if(G===this.modules[K][X+1]&&G===this.modules[K+1][X]&&G===this.modules[K+1][X+1])J+=V1}let Z=0;for(let K of this.modules)Z=K.reduce((X,G)=>X+(G?1:0),Z);let W=this.size*this.size,F=Math.ceil(Math.abs(Z*20-W*10)/W)-1;return J+=F*U1,J}getAlignmentPatternPositions(){if(this.version===1)return[];else{let J=Math.floor(this.version/7)+2,Z=this.version===32?26:Math.ceil((this.version*4+4)/(J*2-2))*2,W=[6];for(let F=this.size-7;W.length<J;F-=Z)W.splice(1,0,F);return W}}finderPenaltyCountPatterns(J){let Z=J[1],W=Z>0&&J[2]===Z&&J[3]===Z*3&&J[4]===Z&&J[5]===Z;return(W&&J[0]>=Z*4&&J[6]>=Z?1:0)+(W&&J[6]>=Z*4&&J[0]>=Z?1:0)}finderPenaltyTerminateAndCount(J,Z,W){if(J)this.finderPenaltyAddHistory(Z,W),Z=0;return Z+=this.size,this.finderPenaltyAddHistory(Z,W),this.finderPenaltyCountPatterns(W)}finderPenaltyAddHistory(J,Z){if(Z[0]===0)J+=this.size;Z.pop(),Z.unshift(J)}}function P(J,Z,W){if(Z<0||Z>31||J>>>Z!==0)throw new RangeError("Value out of range");for(let F=Z-1;F>=0;F--)W.push(J>>>F&1)}function I(J,Z){return(J>>>Z&1)!==0}class T{constructor(J,Z,W){if(this.mode=J,this.numChars=Z,this.bitData=W,Z<0)throw new RangeError("Invalid argument");this.bitData=W.slice()}getData(){return this.bitData.slice()}}var I1=[1,10,12,14],P1=[2,9,11,13],j1=[4,8,16,16];function u(J,Z){return J[Math.floor((Z+7)/17)+1]}function d(J){let Z=[];for(let W of J)P(W,8,Z);return new T(j1,J.length,Z)}function M1(J){if(!n(J))throw new RangeError("String contains non-numeric characters");let Z=[];for(let W=0;W<J.length;){let F=Math.min(J.length-W,3);P(Number.parseInt(J.substring(W,W+F),10),F*3+1,Z),W+=F}return new T(I1,J.length,Z)}function L1(J){if(!a(J))throw new RangeError("String contains unencodable characters in alphanumeric mode");let Z=[],W;for(W=0;W+2<=J.length;W+=2){let F=w.indexOf(J.charAt(W))*45;F+=w.indexOf(J.charAt(W+1)),P(F,11,Z)}if(W<J.length)P(w.indexOf(J.charAt(W)),6,Z);return new T(P1,J.length,Z)}function A1(J){if(J==="")return[];else if(n(J))return[M1(J)];else if(a(J))return[L1(J)];else return[d(Q1(J))]}function n(J){return z1.test(J)}function a(J){return O1.test(J)}function S1(J,Z){let W=0;for(let F of J){let K=u(F.mode,Z);if(F.numChars>=1<<K)return Number.POSITIVE_INFINITY;W+=4+K+F.bitData.length}return W}function Q1(J){J=encodeURI(J);let Z=[];for(let W=0;W<J.length;W++)if(J.charAt(W)!=="%")Z.push(J.charCodeAt(W));else Z.push(Number.parseInt(J.substring(W+1,W+3),16)),W+=2;return Z}function E(J){if(J<_||J>D)throw new RangeError("Version number out of range");let Z=(16*J+128)*J+64;if(J>=2){let W=Math.floor(J/7)+2;if(Z-=(25*W-10)*W-55,J>=7)Z-=36}return Z}function N(J,Z){return Math.floor(E(J)/8)-p[Z[0]][J]*y[Z[0]][J]}function B1(J){if(J<1||J>255)throw new RangeError("Degree out of range");let Z=[];for(let F=0;F<J-1;F++)Z.push(0);Z.push(1);let W=1;for(let F=0;F<J;F++){for(let K=0;K<Z.length;K++)if(Z[K]=h(Z[K],W),K+1<Z.length)Z[K]^=Z[K+1];W=h(W,2)}return Z}function H1(J,Z){let W=Z.map((F)=>0);for(let F of J){let K=F^W.shift();W.push(0),Z.forEach((X,G)=>W[G]^=h(X,K))}return W}function h(J,Z){if(J>>>8!==0||Z>>>8!==0)throw new RangeError("Byte out of range");let W=0;for(let F=7;F>=0;F--)W=W<<1^(W>>>7)*285,W^=(Z>>>F&1)*J;return W}function N1(J,Z,W=1,F=40,K=-1,X=!0){if(!(_<=W&&W<=F&&F<=D)||K<-1||K>7)throw new RangeError("Invalid value");let G,Y;for(G=W;;G++){let f=N(G,Z)*8,O=S1(J,G);if(O<=f){Y=O;break}if(G>=F)throw new RangeError("Data too long")}for(let f of[x,c,m])if(X&&Y<=N(G,f)*8)Z=f;let q=[];for(let f of J){P(f.mode[0],4,q),P(f.numChars,u(f.mode,G),q);for(let O of f.getData())q.push(O)}let V=N(G,Z)*8;P(0,Math.min(4,V-q.length),q),P(0,(8-q.length%8)%8,q);for(let f=236;q.length<V;f^=253)P(f,8,q);let z=Array.from({length:Math.ceil(q.length/8)},()=>0);return q.forEach((f,O)=>z[O>>>3]|=f<<7-(O&7)),new l(G,Z,z,K)}function T1(J,Z){let{ecc:W="L",boostEcc:F=!1,minVersion:K=1,maxVersion:X=40,maskPattern:G=-1,border:Y=1}=Z||{},q=typeof J==="string"?A1(J):Array.isArray(J)?[d(J)]:void 0;if(!q)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof J}`);let V=N1(q,Y1[W],K,X,G,F),z=R1({version:V.version,maskPattern:V.mask,size:V.size,data:V.modules,types:V.types},Y);if(Z?.invert)z.data=z.data.map((f)=>f.map((O)=>!O));return Z?.onEncoded?.(z),z}function R1(J,Z=1){if(!Z)return J;let{size:W}=J,F=W+Z*2;J.size=F,J.data.forEach((X)=>{for(let G=0;G<Z;G++)X.unshift(!1),X.push(!1)});for(let X=0;X<Z;X++)J.data.unshift(Array.from({length:F},(G)=>!1)),J.data.push(Array.from({length:F},(G)=>!1));let K=M.Border;J.types.forEach((X)=>{for(let G=0;G<Z;G++)X.unshift(K),X.push(K)});for(let X=0;X<Z;X++)J.types.unshift(Array.from({length:F},(G)=>K)),J.types.push(Array.from({length:F},(G)=>K));return J}function s(J,Z={}){let W=T1(J,Z),{pixelSize:F=10,whiteColor:K="white",blackColor:X="black"}=Z,G=W.size*F,Y=W.size*F,q=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${Y} ${G}">`,V=[];for(let z=0;z<W.size;z++)for(let f=0;f<W.size;f++){let O=f*F,U=z*F;if(W.data[z][f])V.push(`M${O},${U}h${F}v${F}h-${F}z`)}return q+=`<rect fill="${K}" width="${Y}" height="${G}"/>`,q+=`<path fill="${X}" d="${V.join("")}"/>`,q+="</svg>",q}var w1=R('<p class="error svelte-818g4zpv1omx"> </p>'),E1=R("<p>Generating QR code...</p>"),h1=R('<div class="qr-code-container svelte-818g4zpv1omx"><!></div>');function K1(J,Z){r(Z,!0);let W=b(Z,"size",3,128),F=b(Z,"alt",3,"QR Code"),K=$(null),X=$(null);o(()=>{if(L(X,null),L(K,null),Z.text)QRCode.toDataURL(Z.text,{errorCorrectionLevel:"H",width:W()}).then((z)=>{L(K,z,!0)}).catch((z)=>{console.error("Failed to generate QR code:",z),L(X,"Could not generate QR code.")});else L(X,"No text provided for QR code.")});var G=h1(),Y=v(G);{var q=(z)=>{var f=w1(),O=v(f,!0);k(f),t(()=>Z1(O,A(X))),S(z,f)},V=(z,f)=>{{var O=(j)=>{var Q=J1(),G1=i(Q);W1(G1,()=>s(A(K),{alt:F()}),!1,!1),S(j,Q)},U=(j)=>{var Q=E1();S(j,Q)};g(z,(j)=>{if(A(K))j(O);else j(U,!1)},f)}};g(Y,(z)=>{if(A(X))z(q);else z(V,!1)})}k(G),S(J,G),e()}var p1=K1;if(customElements.get("my-element")==null)customElements.define("my-element",F1(K1,{text:{},size:{},alt:{}},[],[],!0));export{p1 as default};

//# debugId=E719608BFAFAD93664756E2164756E21
//# sourceMappingURL=QrCode.js.map
