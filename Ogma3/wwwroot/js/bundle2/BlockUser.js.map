{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\svelte-webcomponents\\BlockUser.svelte"],
  "sourcesContent": [
    "import 'svelte/internal/disclose-version';\nimport * as $ from 'svelte/internal/client';\nimport { log } from \"../src-helpers/logger\"; // Assuming helper is available\n\nimport {\n\tPostApiUsersBlock as blockUser,\n\tDeleteApiUsersBlock as unblockUser\n} from \"../generated/paths-public\"; // Assuming API functions are available\n\nvar root = $.template(`<span role=\"button\" tabindex=\"0\" class=\"svelte-21ej8tx3vt5ww\"> <!></span>`);\n\nfunction BlockUser($$anchor, $$props) {\n\t$.push($$props, true);\n\n\t// Use $state for internal reactive state, initialized from the prop\n\tlet isBlocked = $.state($.proxy($$props.isBlocked));\n\tlet isLoading = $.state(false); // Optional: track loading state\n\t// $derived state for button text\n\tconst buttonText = $.derived(() => $.get(isBlocked) ? \"Unblock\" : \"Block\");\n\n\tasync function handleBlockToggle() {\n\t\tif ($.get(isLoading)) return; // Prevent multiple clicks while loading\n\t\t$.set(isLoading, true);\n\n\t\tconst action = $.get(isBlocked) ? unblockUser : blockUser;\n\n\t\ttry {\n\t\t\tconst res = await action({ name: $$props.userName }, { RequestVerificationToken: $$props.csrf });\n\n\t\t\tif (res.ok) {\n\t\t\t\t// Update the reactive state\n\t\t\t\t$.set(isBlocked, res.data, true);\n\t\t\t} else {\n\t\t\t\tlog.warn(`Failed to ${$.get(isBlocked) ? \"unblock\" : \"block\"} user: ${res.statusText}`); // Optionally show an error message to the user\n\t\t\t}\n\t\t} catch(error) {\n\t\t\tlog.error(\"Error during block/unblock action:\", error); // Optionally show an error message to the user\n\t\t} finally {\n\t\t\t$.set(isLoading, false);\n\t\t}\n\t}\n\n\tfunction handleKeydown(event) {\n\t\tif (event.key === \" \") {\n\t\t\tevent.preventDefault();\n\t\t\thandleBlockToggle();\n\t\t}\n\t}\n\n\tvar span = root();\n\tlet styles;\n\tvar text = $.child(span);\n\tvar node = $.sibling(text);\n\n\t{\n\t\tvar consequent = ($$anchor) => {\n\t\t\tvar text_1 = $.text('(Updating...)');\n\n\t\t\t$.append($$anchor, text_1);\n\t\t};\n\n\t\t$.if(node, ($$render) => {\n\t\t\tif ($.get(isLoading)) $$render(consequent);\n\t\t});\n\t}\n\n\t$.reset(span);\n\n\t$.template_effect(() => {\n\t\t$.set_attribute(span, 'aria-disabled', $.get(isLoading));\n\n\t\tstyles = $.set_style(span, '', styles, {\n\t\t\tcursor: $.get(isLoading) ? 'wait' : 'pointer'\n\t\t});\n\n\t\t$.set_text(text, `${$.get(buttonText) ?? ''} `);\n\t});\n\n\t$.event('click', span, handleBlockToggle);\n\t$.event('keydown', span, handleKeydown);\n\t$.append($$anchor, span);\n\t$.pop();\n}\n\nif (import.meta.hot) {\n\tBlockUser = $.hmr(BlockUser, () => BlockUser[$.HMR].source);\n\n\timport.meta.hot.accept((module) => {\n\t\t$.cleanup_styles('svelte-21ej8tx3vt5ww');\n\t\tmodule.default[$.HMR].source = BlockUser[$.HMR].source;\n\t\t$.set(BlockUser[$.HMR].source, module.default[$.HMR].original);\n\t});\n}\n\nexport default BlockUser;\n\nif (customElements.get('my-element') == null) customElements.define('my-element', $.create_custom_element(BlockUser, { userName: {}, csrf: {}, isBlocked: {} }, [], [], true));\nimport \"bun-svelte:BlockUser.svelte-2v5ha6em9t4uu-style.css\";"
  ],
  "mappings": "sOASA,FAAI,EAAS,EAAS,2EAA2E,EAEjG,SAAS,CAAS,CAAC,EAAU,EAAS,CACnC,EAAK,EAAS,EAAI,EAGpB,IAAI,EAAc,EAAQ,EAAM,EAAQ,SAAS,CAAC,EAC9C,EAAc,EAAM,EAAK,EAEvB,EAAe,EAAQ,IAAQ,EAAI,CAAS,EAAI,UAAY,OAAO,EAEzE,eAAe,CAAiB,EAAG,CAClC,GAAM,EAAI,CAAS,EAAG,OACpB,EAAI,EAAW,EAAI,EAErB,IAAM,EAAW,EAAI,CAAS,EAAI,EAAc,EAEhD,GAAI,CACH,IAAM,EAAM,MAAM,EAAO,CAAE,KAAM,EAAQ,QAAS,EAAG,CAAE,yBAA0B,EAAQ,IAAK,CAAC,EAE/F,GAAI,EAAI,GAEL,EAAI,EAAW,EAAI,KAAM,EAAI,EAE/B,OAAI,KAAK,aAAe,EAAI,CAAS,EAAI,UAAY,iBAAiB,EAAI,YAAY,EAEtF,MAAM,EAAO,CACd,EAAI,MAAM,qCAAsC,CAAK,SACpD,CACC,EAAI,EAAW,EAAK,GAIxB,SAAS,CAAa,CAAC,EAAO,CAC7B,GAAI,EAAM,MAAQ,IACjB,EAAM,eAAe,EACrB,EAAkB,EAIpB,IAAI,EAAO,EAAK,EAChB,IAAI,EACJ,IAAI,EAAS,EAAM,CAAI,EACnB,EAAS,EAAQ,CAAI,EAEzB,CACC,IAAI,EAAa,CAAC,IAAa,CAC9B,IAAI,EAAW,EAAK,eAAe,EAEjC,EAAO,EAAU,CAAM,GAGxB,EAAG,EAAM,CAAC,IAAa,CACxB,GAAM,EAAI,CAAS,EAAG,EAAS,CAAU,EACzC,CACF,CAEE,EAAM,CAAI,EAEV,EAAgB,IAAM,CACrB,EAAc,EAAM,gBAAmB,EAAI,CAAS,CAAC,EAEvD,EAAW,EAAU,EAAM,GAAI,EAAQ,CACtC,OAAU,EAAI,CAAS,EAAI,OAAS,SACrC,CAAC,EAEC,EAAS,EAAM,GAAK,EAAI,CAAU,GAAK,KAAK,EAC9C,EAEC,EAAM,QAAS,EAAM,CAAiB,EACtC,EAAM,UAAW,EAAM,CAAa,EACpC,EAAO,EAAU,CAAI,EACrB,EAAI,EAaP,IAAe,IAEf,GAAI,eAAe,IAAI,YAAY,GAAK,KAAM,eAAe,OAAO,aAAgB,EAAsB,EAAW,CAAE,SAAU,CAAC,EAAG,KAAM,CAAC,EAAG,UAAW,CAAC,CAAE,EAAG,CAAC,EAAG,CAAC,EAAG,EAAI,CAAC",
  "debugId": "3CB341459E04108964756E2164756E21",
  "names": []
}