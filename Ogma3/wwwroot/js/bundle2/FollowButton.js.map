{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\svelte-webcomponents\\FollowButton.svelte"],
  "sourcesContent": [
    "import 'svelte/internal/disclose-version';\nimport * as $ from 'svelte/internal/client';\nimport { log } from \"../src-helpers/logger\";\n\nimport {\n\tPostApiUsersFollow as followUser,\n\tDeleteApiUsersFollow as unfollowUser\n} from \"../generated/paths-public\";\n\nasync function handleFollowToggle(_, isLoading, isFollowed, $$props) {\n\tif ($.get(isLoading)) return;\n\t$.set(isLoading, true);\n\n\tconst action = $.get(isFollowed) ? unfollowUser : followUser;\n\n\ttry {\n\t\tconst res = await action({ name: $$props.userName }, { RequestVerificationToken: $$props.csrf });\n\n\t\tif (res.ok) {\n\t\t\t$.set(isFollowed, res.data, true);\n\t\t} else {\n\t\t\tlog.warn(`Failed to ${$.get(isFollowed) ? \"unfollow\" : \"follow\"} user: ${res.statusText}`);\n\t\t}\n\t} catch(error) {\n\t\tlog.error(\"Error during follow/unfollow action:\", error);\n\t} finally {\n\t\t$.set(isLoading, false);\n\t}\n}\n\nvar root = $.template(`<button> <!></button>`);\n\nfunction FollowButton($$anchor, $$props) {\n\t$.push($$props, true);\n\n\t// Reactive state for followed status and loading\n\tlet isFollowed = $.state($.proxy($$props.isFollowed));\n\tlet isLoading = $.state(false);\n\t// Derived state for button text and title\n\tconst buttonText = $.derived(() => $.get(isFollowed) ? \"Following\" : \"Follow\");\n\tconst buttonTitle = $.derived(() => $.get(isFollowed) ? \"Unfollow\" : \"Follow\");\n\tconst buttonClass = $.derived(() => `button max ${$.get(isFollowed) ? \"leave\" : \"join\"}`);\n\tvar button = root();\n\n\tbutton.__click = [\n\t\thandleFollowToggle,\n\t\tisLoading,\n\t\tisFollowed,\n\t\t$$props\n\t];\n\n\tvar text = $.child(button);\n\tvar node = $.sibling(text);\n\n\t{\n\t\tvar consequent = ($$anchor) => {\n\t\t\tvar text_1 = $.text('...');\n\n\t\t\t$.append($$anchor, text_1);\n\t\t};\n\n\t\t$.if(node, ($$render) => {\n\t\t\tif ($.get(isLoading)) $$render(consequent);\n\t\t});\n\t}\n\n\t$.reset(button);\n\n\t$.template_effect(() => {\n\t\t$.set_class(button, 1, $.clsx($.get(buttonClass)), 'svelte-2h1dxflfqrrks');\n\t\t$.set_attribute(button, 'title', $.get(buttonTitle));\n\t\tbutton.disabled = $.get(isLoading);\n\t\t$.set_text(text, `${$.get(buttonText) ?? ''} `);\n\t});\n\n\t$.append($$anchor, button);\n\t$.pop();\n}\n\nif (import.meta.hot) {\n\tFollowButton = $.hmr(FollowButton, () => FollowButton[$.HMR].source);\n\n\timport.meta.hot.accept((module) => {\n\t\t$.cleanup_styles('svelte-2h1dxflfqrrks');\n\t\tmodule.default[$.HMR].source = FollowButton[$.HMR].source;\n\t\t$.set(FollowButton[$.HMR].source, module.default[$.HMR].original);\n\t});\n}\n\nexport default FollowButton;\n\n$.delegate(['click']);\nif (customElements.get('my-element') == null) customElements.define('my-element', $.create_custom_element(FollowButton, { userName: {}, csrf: {}, isFollowed: {} }, [], [], true));\nimport \"bun-svelte:FollowButton.svelte-iyq3t7wu0j9-style.css\";"
  ],
  "mappings": "kPASA,SAAe,CAAkB,CAAC,EAAG,EAAW,EAAY,EAAS,CACpE,GAAM,EAAI,CAAS,EAAG,OACpB,EAAI,EAAW,EAAI,EAErB,IAAM,EAAW,EAAI,CAAU,EAAI,EAAe,EAElD,GAAI,CACH,IAAM,EAAM,MAAM,EAAO,CAAE,KAAM,EAAQ,QAAS,EAAG,CAAE,yBAA0B,EAAQ,IAAK,CAAC,EAE/F,GAAI,EAAI,GACL,EAAI,EAAY,EAAI,KAAM,EAAI,EAEhC,OAAI,KAAK,aAAe,EAAI,CAAU,EAAI,WAAa,kBAAkB,EAAI,YAAY,EAEzF,MAAM,EAAO,CACd,EAAI,MAAM,uCAAwC,CAAK,SACtD,CACC,EAAI,EAAW,EAAK,GAIxB,IAAI,EAAS,EAAS,uBAAuB,EAE7C,SAAS,CAAY,CAAC,EAAU,EAAS,CACtC,EAAK,EAAS,EAAI,EAGpB,IAAI,EAAe,EAAQ,EAAM,EAAQ,UAAU,CAAC,EAChD,EAAc,EAAM,EAAK,EAEvB,EAAe,EAAQ,IAAQ,EAAI,CAAU,EAAI,YAAc,QAAQ,EACvE,EAAgB,EAAQ,IAAQ,EAAI,CAAU,EAAI,WAAa,QAAQ,EACvE,EAAgB,EAAQ,IAAM,cAAgB,EAAI,CAAU,EAAI,QAAU,QAAQ,EACxF,IAAI,EAAS,EAAK,EAElB,EAAO,QAAU,CAChB,EACA,EACA,EACA,CACD,EAEA,IAAI,EAAS,EAAM,CAAM,EACrB,EAAS,EAAQ,CAAI,EAEzB,CACC,IAAI,EAAa,CAAC,IAAa,CAC9B,IAAI,EAAW,EAAK,KAAK,EAEvB,EAAO,EAAU,CAAM,GAGxB,EAAG,EAAM,CAAC,IAAa,CACxB,GAAM,EAAI,CAAS,EAAG,EAAS,CAAU,EACzC,CACF,CAEE,EAAM,CAAM,EAEZ,EAAgB,IAAM,CACrB,EAAU,EAAQ,EAAK,EAAO,EAAI,CAAW,CAAC,EAAG,sBAAsB,EACvE,EAAc,EAAQ,QAAW,EAAI,CAAW,CAAC,EACnD,EAAO,SAAa,EAAI,CAAS,EAC/B,EAAS,EAAM,GAAK,EAAI,CAAU,GAAK,KAAK,EAC9C,EAEC,EAAO,EAAU,CAAM,EACvB,EAAI,EAaP,IAAe,IAEb,EAAS,CAAC,OAAO,CAAC,EACpB,GAAI,eAAe,IAAI,YAAY,GAAK,KAAM,eAAe,OAAO,aAAgB,EAAsB,EAAc,CAAE,SAAU,CAAC,EAAG,KAAM,CAAC,EAAG,WAAY,CAAC,CAAE,EAAG,CAAC,EAAG,CAAC,EAAG,EAAI,CAAC",
  "debugId": "6BC489AC36D5504C64756E2164756E21",
  "names": []
}