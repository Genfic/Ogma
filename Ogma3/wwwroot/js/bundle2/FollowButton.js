import{c as H,g as U,t as h}from"./chunk-rnytdpz1.js";import{A as M,B as N,D as O,F as f,H as P,I as Q,J as R,M as S,N as V,P as W,R as G,S as X,T as Y,X as Z,Y as q,aa as C,ja as _,w as K,x as D,y as A,z as E}from"./chunk-hmv3z8hd.js";async function L(I,m,k,y){if(f(m))return;A(m,!0);let j=f(k)?U:h;try{let x=await j({name:y.userName},{RequestVerificationToken:y.csrf});if(x.ok)A(k,x.data,!0);else H.warn(`Failed to ${f(k)?"unfollow":"follow"} user: ${x.statusText}`)}catch(x){H.error("Error during follow/unfollow action:",x)}finally{A(m,!1)}}var g=V("<button> <!></button>");function B(I,m){Q(m,!0);let k=D(K(m.isFollowed)),y=D(!1),j=E(()=>f(k)?"Following":"Follow"),x=E(()=>f(k)?"Unfollow":"Follow"),T=E(()=>`button max ${f(k)?"leave":"join"}`);var v=g();v.__click=[L,y,k,m];var J=N(v),c=O(J);{var b=(z)=>{var a=W("...");G(z,a)};Y(c,(z)=>{if(f(y))z(b)})}M(v),P(()=>{q(v,1,Z(f(T)),"svelte-2h1dxflfqrrks"),C(v,"title",f(x)),v.disabled=f(y),X(J,`${f(j)??""} `)}),G(I,v),R()}var s=B;S(["click"]);if(customElements.get("my-element")==null)customElements.define("my-element",_(B,{userName:{},csrf:{},isFollowed:{}},[],[],!0));export{s as default};

//# debugId=6BC489AC36D5504C64756E2164756E21
//# sourceMappingURL=FollowButton.js.map
