import{c as N,d as B,p as T}from"./chunk-rnytdpz1.js";import{A as R,B as S,D as U,F as f,H as V,I as W,J as X,M as Y,N as Z,P as j,R as K,S as v,T as x,X as z,Y as _,aa as q,ja as c,w as Q,x as I,y as E,z as F}from"./chunk-hmv3z8hd.js";async function L(O,A,y,D){if(f(A))return;E(A,!0);let G=f(y)?B:T;try{let k=await G({clubId:D.clubId},{RequestVerificationToken:D.csrf});if(k.ok)E(y,k.data===!0);else N.warn(`Failed to ${f(y)?"leave":"join"} club: ${k.statusText}`)}catch(k){N.error("Error during join/leave action:",k)}finally{E(A,!1)}}var M=Z("<button> <!></button>");function J(O,A){W(A,!0);let y=I(Q(A.isMember)),D=I(!1),G=F(()=>f(y)?"Leave club":"Join club"),k=F(()=>f(y)?"Leave":"Join"),d=F(()=>`button max ${f(y)?"leave":"join"}`);var w=M();w.__click=[L,D,y,A];var P=S(w),h=U(P);{var C=(H)=>{var m=j("...");K(H,m)};x(h,(H)=>{if(f(D))H(C)})}R(w),V(()=>{_(w,1,z(f(d)),"svelte-3cbbf632f4u2i"),q(w,"title",f(k)),w.disabled=f(D),v(P,`${f(G)??""} `)}),K(O,w),X()}var e=J;Y(["click"]);if(customElements.get("my-element")==null)customElements.define("my-element",c(J,{clubId:{},csrf:{},isMember:{}},[],[],!0));export{e as default};

//# debugId=762B3B09B87CFB6C64756E2164756E21
//# sourceMappingURL=JoinClubButton.js.map
