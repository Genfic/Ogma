async function s(e,t,n,I,R){let a=await fetch(e,{method:t,headers:{"Content-Type":"application/json",...I},body:n?JSON.stringify(n):null,...R}),C=a.headers.get("content-type"),o;if(C?.includes("application/json"))o=await a.json();else o=await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:o}}var d=async(e,t,n)=>await s("/api/chaptersread","DELETE",e,t,n);var u=async(e,t,n)=>await s(`/api/chaptersread/${e}`,"GET",void 0,t,n);var p=async(e,t,n)=>await s("/api/chaptersread","POST",e,t,n);var r=document.querySelector("[data-story-id]"),m=document.querySelector("[data-x-csrf]"),c=[...document.querySelectorAll("button.read-status")];r.remove();m.remove();var i=[];await y();for(let e of c)e.addEventListener("click",()=>T(Number.parseInt(e.dataset.id)));var T=async(e)=>{let n=await(i.includes(e)?d:p)({story:Number.parseInt(r.dataset.storyId),chapter:e},{RequestVerificationToken:m.dataset["x-csrf"]});if(!n.ok)return;i=n.data,l()};function l(){for(let e of c){let t=i?.includes(Number.parseInt(e.dataset.id))??!1;e.classList.toggle("active",t),e.querySelector("use").setAttribute("href",t?"/svg/spritesheet.svg#lucide:eye":"/svg/spritesheet.svg#lucide:eye-off")}}async function y(){let e=await u(Number.parseInt(r.dataset.storyId));if(!e.ok)return;i=e.data,l()}

//# debugId=09562C43A781280A64756E2164756E21
