var d="GET",r="POST";var u="DELETE";async function s(e,t,n,f,R){let a=await fetch(e,{method:t,headers:{"content-type":"application/json",...f},body:n&&JSON.stringify(n),...R}),y=a.headers.get("content-type")?.includes("application/json")?await a.json():await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:y}}var p=async(e,t,n)=>await s("/api/chaptersread",u,e,t,n);var m=async(e,t,n)=>await s(`/api/chaptersread/${e}`,d,void 0,t,n);var c=async(e,t,n)=>await s("/api/chaptersread",r,e,t,n);var i=document.querySelector("[data-story-id]"),l=document.querySelector("[data-x-csrf]"),I=[...document.querySelectorAll("button.read-status")];i.remove();l.remove();var o=[];await q();for(let e of I)e.addEventListener("click",()=>b(Number.parseInt(e.dataset.id)));var b=async(e)=>{let n=await(o.includes(e)?p:c)({story:Number.parseInt(i.dataset.storyId),chapter:e},{RequestVerificationToken:l.dataset["x-csrf"]});if(!n.ok)return;o=n.data,C()};function C(){for(let e of I){let t=o?.includes(Number.parseInt(e.dataset.id))??!1;e.classList.toggle("active",t),e.querySelector("use").setAttribute("href",t?"/svg/spritesheet.svg#lucide:eye":"/svg/spritesheet.svg#lucide:eye-off")}}async function q(){let e=await m(Number.parseInt(i.dataset.storyId));if(!e.ok)return;o=e.data,C()}

//# debugId=9B45D232C1EB648764756E2164756E21
