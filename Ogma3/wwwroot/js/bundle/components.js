(function(o,A){typeof exports=="object"&&typeof module<"u"?A(exports):typeof define=="function"&&define.amd?define(["exports"],A):(o=typeof globalThis<"u"?globalThis:o||self,A(o.components={}))})(this,function(o){"use strict";const A=globalThis,It=A.ShadowRoot&&(A.ShadyCSS===void 0||A.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ft=Symbol(),Ce=new WeakMap;let _e=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==Ft)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(It&&t===void 0){const n=e!==void 0&&e.length===1;n&&(t=Ce.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&Ce.set(e,t))}return t}toString(){return this.cssText}};const dr=r=>new _e(typeof r=="string"?r:r+"",void 0,Ft),xt=(r,...t)=>{const e=r.length===1?r[0]:t.reduce((n,a,i)=>n+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+r[i+1],r[0]);return new _e(e,r,Ft)},ur=(r,t)=>{if(It)r.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const e of t){const n=document.createElement("style"),a=A.litNonce;a!==void 0&&n.setAttribute("nonce",a),n.textContent=e.cssText,r.appendChild(n)}},ke=It?r=>r:r=>r instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return dr(e)})(r):r;const{is:hr,defineProperty:fr,getOwnPropertyDescriptor:vr,getOwnPropertyNames:mr,getOwnPropertySymbols:pr,getPrototypeOf:gr}=Object,mt=globalThis,Se=mt.trustedTypes,br=Se?Se.emptyScript:"",yr=mt.reactiveElementPolyfillSupport,Q=(r,t)=>r,pt={toAttribute(r,t){switch(t){case Boolean:r=r?br:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){let e=r;switch(t){case Boolean:e=r!==null;break;case Number:e=r===null?null:Number(r);break;case Object:case Array:try{e=JSON.parse(r)}catch{e=null}}return e}},Lt=(r,t)=>!hr(r,t),Oe={attribute:!0,type:String,converter:pt,reflect:!1,hasChanged:Lt};Symbol.metadata??=Symbol("metadata"),mt.litPropertyMetadata??=new WeakMap;let Y=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=Oe){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),a=this.getPropertyDescriptor(t,n,e);a!==void 0&&fr(this.prototype,t,a)}}static getPropertyDescriptor(t,e,n){const{get:a,set:i}=vr(this.prototype,t)??{get(){return this[e]},set(s){this[e]=s}};return{get(){return a?.call(this)},set(s){const l=a?.call(this);i.call(this,s),this.requestUpdate(t,l,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Oe}static _$Ei(){if(this.hasOwnProperty(Q("elementProperties")))return;const t=gr(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Q("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Q("properties"))){const e=this.properties,n=[...mr(e),...pr(e)];for(const a of n)this.createProperty(a,e[a])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[n,a]of e)this.elementProperties.set(n,a)}this._$Eh=new Map;for(const[e,n]of this.elementProperties){const a=this._$Eu(e,n);a!==void 0&&this._$Eh.set(a,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const a of n)e.unshift(ke(a))}else t!==void 0&&e.push(ke(t));return e}static _$Eu(t,e){const n=e.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$Eg=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$ES??=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$ES?.splice(this._$ES.indexOf(t)>>>0,1)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ur(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$ES?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$ES?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EO(t,e){const n=this.constructor.elementProperties.get(t),a=this.constructor._$Eu(t,n);if(a!==void 0&&n.reflect===!0){const i=(n.converter?.toAttribute!==void 0?n.converter:pt).toAttribute(e,n.type);this._$Em=t,i==null?this.removeAttribute(a):this.setAttribute(a,i),this._$Em=null}}_$AK(t,e){const n=this.constructor,a=n._$Eh.get(t);if(a!==void 0&&this._$Em!==a){const i=n.getPropertyOptions(a),s=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:pt;this._$Em=a,this[a]=s.fromAttribute(e,i.type),this._$Em=null}}requestUpdate(t,e,n,a=!1,i){if(t!==void 0){if(n??=this.constructor.getPropertyOptions(t),!(n.hasChanged??Lt)(a?i:this[t],e))return;this.C(t,e,n)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}C(t,e,n){this._$AL.has(t)||this._$AL.set(t,e),n.reflect===!0&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this._$Ep){for(const[a,i]of this._$Ep)this[a]=i;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[a,i]of n)i.wrapped!==!0||this._$AL.has(a)||this[a]===void 0||this.C(a,this[a],i)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$ES?.forEach(n=>n.hostUpdate?.()),this.update(e)):this._$ET()}catch(n){throw t=!1,this._$ET(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$ES?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$ET(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach(e=>this._$EO(e,this[e])),this._$ET()}updated(t){}firstUpdated(t){}};Y.elementStyles=[],Y.shadowRootOptions={mode:"open"},Y[Q("elementProperties")]=new Map,Y[Q("finalized")]=new Map,yr?.({ReactiveElement:Y}),(mt.reactiveElementVersions??=[]).push("2.0.1");const Ht=globalThis,gt=Ht.trustedTypes,Ee=gt?gt.createPolicy("lit-html",{createHTML:r=>r}):void 0,Pe="$lit$",M=`lit$${(Math.random()+"").slice(9)}$`,Ae="?"+M,$r=`<${Ae}>`,W=document,z=()=>W.createComment(""),X=r=>r===null||typeof r!="object"&&typeof r!="function",Me=Array.isArray,wr=r=>Me(r)||typeof r?.[Symbol.iterator]=="function",Yt=`[ 	
\f\r]`,Z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,De=/-->/g,Ue=/>/g,R=RegExp(`>|${Yt}(?:([^\\s"'>=/]+)(${Yt}*=${Yt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ne=/'/g,Be=/"/g,We=/^(?:script|style|textarea|title)$/i,Tr=r=>(t,...e)=>({_$litType$:r,strings:t,values:e}),v=Tr(1),D=Symbol.for("lit-noChange"),$=Symbol.for("lit-nothing"),Re=new WeakMap,j=W.createTreeWalker(W,129);function je(r,t){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ee!==void 0?Ee.createHTML(t):t}const Cr=(r,t)=>{const e=r.length-1,n=[];let a,i=t===2?"<svg>":"",s=Z;for(let l=0;l<e;l++){const c=r[l];let d,h,u=-1,g=0;for(;g<c.length&&(s.lastIndex=g,h=s.exec(c),h!==null);)g=s.lastIndex,s===Z?h[1]==="!--"?s=De:h[1]!==void 0?s=Ue:h[2]!==void 0?(We.test(h[2])&&(a=RegExp("</"+h[2],"g")),s=R):h[3]!==void 0&&(s=R):s===R?h[0]===">"?(s=a??Z,u=-1):h[1]===void 0?u=-2:(u=s.lastIndex-h[2].length,d=h[1],s=h[3]===void 0?R:h[3]==='"'?Be:Ne):s===Be||s===Ne?s=R:s===De||s===Ue?s=Z:(s=R,a=void 0);const b=s===R&&r[l+1].startsWith("/>")?" ":"";i+=s===Z?c+$r:u>=0?(n.push(d),c.slice(0,u)+Pe+c.slice(u)+M+b):c+M+(u===-2?l:b)}return[je(r,i+(r[e]||"<?>")+(t===2?"</svg>":"")),n]};class K{constructor({strings:t,_$litType$:e},n){let a;this.parts=[];let i=0,s=0;const l=t.length-1,c=this.parts,[d,h]=Cr(t,e);if(this.el=K.createElement(d,n),j.currentNode=this.el.content,e===2){const u=this.el.content.firstChild;u.replaceWith(...u.childNodes)}for(;(a=j.nextNode())!==null&&c.length<l;){if(a.nodeType===1){if(a.hasAttributes())for(const u of a.getAttributeNames())if(u.endsWith(Pe)){const g=h[s++],b=a.getAttribute(u).split(M),C=/([.?@])?(.*)/.exec(g);c.push({type:1,index:i,name:C[2],strings:b,ctor:C[1]==="."?kr:C[1]==="?"?Sr:C[1]==="@"?Or:bt}),a.removeAttribute(u)}else u.startsWith(M)&&(c.push({type:6,index:i}),a.removeAttribute(u));if(We.test(a.tagName)){const u=a.textContent.split(M),g=u.length-1;if(g>0){a.textContent=gt?gt.emptyScript:"";for(let b=0;b<g;b++)a.append(u[b],z()),j.nextNode(),c.push({type:2,index:++i});a.append(u[g],z())}}}else if(a.nodeType===8)if(a.data===Ae)c.push({type:2,index:i});else{let u=-1;for(;(u=a.data.indexOf(M,u+1))!==-1;)c.push({type:7,index:i}),u+=M.length-1}i++}}static createElement(t,e){const n=W.createElement("template");return n.innerHTML=t,n}}function q(r,t,e=r,n){if(t===D)return t;let a=n!==void 0?e._$Co?.[n]:e._$Cl;const i=X(t)?void 0:t._$litDirective$;return a?.constructor!==i&&(a?._$AO?.(!1),i===void 0?a=void 0:(a=new i(r),a._$AT(r,e,n)),n!==void 0?(e._$Co??=[])[n]=a:e._$Cl=a),a!==void 0&&(t=q(r,a._$AS(r,t.values),a,n)),t}let _r=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,a=(t?.creationScope??W).importNode(e,!0);j.currentNode=a;let i=j.nextNode(),s=0,l=0,c=n[0];for(;c!==void 0;){if(s===c.index){let d;c.type===2?d=new tt(i,i.nextSibling,this,t):c.type===1?d=new c.ctor(i,c.name,c.strings,this,t):c.type===6&&(d=new Er(i,this,t)),this._$AV.push(d),c=n[++l]}s!==c?.index&&(i=j.nextNode(),s++)}return j.currentNode=W,a}p(t){let e=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}};class tt{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,n,a){this.type=2,this._$AH=$,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=a,this._$Cv=a?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&t?.nodeType===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=q(this,t,e),X(t)?t===$||t==null||t===""?(this._$AH!==$&&this._$AR(),this._$AH=$):t!==this._$AH&&t!==D&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):wr(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==$&&X(this._$AH)?this._$AA.nextSibling.data=t:this.$(W.createTextNode(t)),this._$AH=t}g(t){const{values:e,_$litType$:n}=t,a=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=K.createElement(je(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===a)this._$AH.p(e);else{const i=new _r(a,this),s=i.u(this.options);i.p(e),this.$(s),this._$AH=i}}_$AC(t){let e=Re.get(t.strings);return e===void 0&&Re.set(t.strings,e=new K(t)),e}T(t){Me(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,a=0;for(const i of t)a===e.length?e.push(n=new tt(this.k(z()),this.k(z()),this,this.options)):n=e[a],n._$AI(i),a++;a<e.length&&(this._$AR(n&&n._$AB.nextSibling,a),e.length=a)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const n=t.nextSibling;t.remove(),t=n}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class bt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,a,i){this.type=1,this._$AH=$,this._$AN=void 0,this.element=t,this.name=e,this._$AM=a,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=$}_$AI(t,e=this,n,a){const i=this.strings;let s=!1;if(i===void 0)t=q(this,t,e,0),s=!X(t)||t!==this._$AH&&t!==D,s&&(this._$AH=t);else{const l=t;let c,d;for(t=i[0],c=0;c<i.length-1;c++)d=q(this,l[n+c],e,c),d===D&&(d=this._$AH[c]),s||=!X(d)||d!==this._$AH[c],d===$?t=$:t!==$&&(t+=(d??"")+i[c+1]),this._$AH[c]=d}s&&!a&&this.O(t)}O(t){t===$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}let kr=class extends bt{constructor(){super(...arguments),this.type=3}O(t){this.element[this.name]=t===$?void 0:t}};class Sr extends bt{constructor(){super(...arguments),this.type=4}O(t){this.element.toggleAttribute(this.name,!!t&&t!==$)}}let Or=class extends bt{constructor(t,e,n,a,i){super(t,e,n,a,i),this.type=5}_$AI(t,e=this){if((t=q(this,t,e,0)??$)===D)return;const n=this._$AH,a=t===$&&n!==$||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,i=t!==$&&(n===$||a);a&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}};class Er{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){q(this,t)}}const Pr=Ht.litHtmlPolyfillSupport;Pr?.(K,tt),(Ht.litHtmlVersions??=[]).push("3.0.2");const Ar=(r,t,e)=>{const n=e?.renderBefore??t;let a=n._$litPart$;if(a===void 0){const i=e?.renderBefore??null;n._$litPart$=a=new tt(t.insertBefore(z(),i),i,void 0,e??{})}return a._$AI(r),a};let y=class extends Y{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ar(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return D}};y._$litElement$=!0,y.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:y});const Mr=globalThis.litElementPolyfillSupport;Mr?.({LitElement:y}),(globalThis.litElementVersions??=[]).push("4.0.1");const _=r=>(t,e)=>{e!==void 0?e.addInitializer(()=>{customElements.define(r,t)}):customElements.define(r,t)};const Dr={attribute:!0,type:String,converter:pt,reflect:!1,hasChanged:Lt},Ur=(r=Dr,t,e)=>{const{kind:n,metadata:a}=e;let i=globalThis.litPropertyMetadata.get(a);if(i===void 0&&globalThis.litPropertyMetadata.set(a,i=new Map),i.set(e.name,r),n==="accessor"){const{name:s}=e;return{set(l){const c=t.get.call(this);t.set.call(this,l),this.requestUpdate(s,c,r)},init(l){return l!==void 0&&this.C(s,void 0,r),l}}}if(n==="setter"){const{name:s}=e;return function(l){const c=this[s];t.call(this,l),this.requestUpdate(s,c,r)}}throw Error("Unsupported decorator location: "+n)};function f(r){return(t,e)=>typeof e=="object"?Ur(r,t,e):((n,a,i)=>{const s=a.hasOwnProperty(i);return a.constructor.createProperty(i,s?{...n,wrapped:!0}:n),s?Object.getOwnPropertyDescriptor(a,i):void 0})(r,t,e)}function m(r){return f({...r,state:!0,attribute:!1})}var Nr=Object.defineProperty,Br=Object.getOwnPropertyDescriptor,qt=(r,t,e,n)=>{for(var a=n>1?void 0:n?Br(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Nr(t,e,a),a};let yt=class extends y{constructor(){super()}connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded")}render(){return v`<button class="read-status" aria-label="Chapter read status" data-id="@c.Id"><i class="material-icons-outlined">visibility_off</i></button>`}};qt([f()],yt.prototype,"route",2),qt([f()],yt.prototype,"chapterId",2),yt=qt([_("o-read")],yt);function et(r){return r===Object(r)}function rt(r){return JSON.parse(JSON.stringify({...r,__isCopied__:!0}))}const w={log:r=>console.log(et(r)?rt(r):r),info:r=>console.info(et(r)?rt(r):r),warn:r=>console.warn(et(r)?rt(r):r),error:r=>console.error(et(r)?rt(r):r),debug:r=>console.debug(et(r)?rt(r):r)},Wr=async(r,t,e)=>await fetch(`/api/votes/${r}`,{method:"GET",headers:{"Content-Type":"application/json",...t},...e}),Rr=async(r,t,e)=>await fetch("/api/votes",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),jr=async(r,t,e)=>await fetch("/api/votes",{method:"DELETE",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),Ir=async(r,t,e)=>await fetch("/api/users/block",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),Fr=async(r,t,e)=>await fetch("/api/users/block",{method:"DELETE",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),xr=async(r,t,e)=>await fetch("/api/users/follow",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),Lr=async(r,t,e)=>await fetch("/api/users/follow",{method:"DELETE",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),Hr=async(r,t,e)=>await fetch(`/api/subscriptions/thread?threadid=${r}`,{method:"GET",headers:{"Content-Type":"application/json",...t},...e}),Yr=async(r,t,e)=>await fetch("/api/subscriptions/thread",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),qr=async(r,t,e)=>await fetch("/api/subscriptions/thread",{method:"DELETE",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),Gr=async(r,t,e)=>await fetch(`/api/shelfstories/${r}/quick`,{method:"GET",headers:{"Content-Type":"application/json",...t},...e}),Vr=async(r,t,e,n)=>await fetch(`/api/shelfstories/${r}?page=${t}`,{method:"GET",headers:{"Content-Type":"application/json",...e},...n}),Jr=async(r,t,e,n)=>await fetch(`/api/shelfstories/${r}/${t}`,{method:"POST",headers:{"Content-Type":"application/json",...e},...n}),Qr=async(r,t,e,n)=>await fetch(`/api/shelfstories/${r}/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",...e},...n}),zr=async(r,t,e)=>await fetch("/api/reports",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),Xr=async(r,t)=>await fetch("/api/quotes/random",{method:"GET",headers:{"Content-Type":"application/json",...r},...t}),Zr=async(r,t)=>await fetch("/api/notifications/count",{method:"GET",headers:{"Content-Type":"application/json",...r},...t}),Kr=async(r,t,e)=>await fetch(`/api/folders/${r}`,{method:"GET",headers:{"Content-Type":"application/json",...t},...e}),tn=async(r,t,e)=>await fetch("/api/folders/add-story",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),en=async(r,t)=>await fetch("/api/clubs/user",{method:"GET",headers:{"Content-Type":"application/json",...r},...t}),rn=async(r,t,e)=>await fetch(`/api/clubs/story/${r}`,{method:"GET",headers:{"Content-Type":"application/json",...t},...e}),nn=async(r,t,e)=>await fetch("/api/clubs/user/ban",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),an=async(r,t,e)=>await fetch("/api/clubs/user/ban",{method:"DELETE",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),sn=async(r,t,e)=>await fetch("/api/clubjoin",{method:"POST",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e}),on=async(r,t,e)=>await fetch("/api/clubjoin",{method:"DELETE",headers:{"Content-Type":"application/json",...t},body:JSON.stringify(r),...e});var cn=Object.defineProperty,ln=Object.getOwnPropertyDescriptor,$t=(r,t,e,n)=>{for(var a=n>1?void 0:n?ln(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&cn(t,e,a),a},dn=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},un=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Ie=(r,t,e)=>(dn(r,t,"access private method"),e),wt,Gt;o.BlockUser=class extends y{constructor(){super(),un(this,wt)}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded"),this.addEventListener("click",Ie(this,wt,Gt)),this.addEventListener("keydown",t=>{t.key===" "&&(Ie(this,wt,Gt).call(this),t.preventDefault())})}render(){return v`<span>${this.isBlocked?"Unblock":"Block"}</span>`}createRenderRoot(){return this}},wt=new WeakSet,Gt=async function(){const r=await(this.isBlocked?Fr:Ir)({name:this.userName},{RequestVerificationToken:this.csrf});r.ok?this.isBlocked=await r.json():w.warn(r.statusText)},$t([f()],o.BlockUser.prototype,"userName",2),$t([f()],o.BlockUser.prototype,"csrf",2),$t([f()],o.BlockUser.prototype,"isBlocked",2),o.BlockUser=$t([_("o-block")],o.BlockUser);const hn=r=>r.strings===void 0;const Vt={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Jt=r=>(...t)=>({_$litDirective$:r,values:t});let Qt=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const nt=(r,t)=>{const e=r._$AN;if(e===void 0)return!1;for(const n of e)n._$AO?.(t,!1),nt(n,t);return!0},Tt=r=>{let t,e;do{if((t=r._$AM)===void 0)break;e=t._$AN,e.delete(r),r=t}while(e?.size===0)},Fe=r=>{for(let t;t=r._$AM;r=t){let e=t._$AN;if(e===void 0)t._$AN=e=new Set;else if(e.has(r))break;e.add(r),mn(t)}};function fn(r){this._$AN!==void 0?(Tt(this),this._$AM=r,Fe(this)):this._$AM=r}function vn(r,t=!1,e=0){const n=this._$AH,a=this._$AN;if(a!==void 0&&a.size!==0)if(t)if(Array.isArray(n))for(let i=e;i<n.length;i++)nt(n[i],!1),Tt(n[i]);else n!=null&&(nt(n,!1),Tt(n));else nt(this,r)}const mn=r=>{r.type==Vt.CHILD&&(r._$AP??=vn,r._$AQ??=fn)};let pn=class extends Qt{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),Fe(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(nt(this,t),Tt(this))}setValue(t){if(hn(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};const gn=()=>new bn;let bn=class{};const zt=new WeakMap,yn=Jt(class extends pn{render(r){return $}update(r,[t]){const e=t!==this.G;return e&&this.G!==void 0&&this.ot(void 0),(e||this.rt!==this.lt)&&(this.G=t,this.ct=r.options?.host,this.ot(this.lt=r.element)),$}ot(r){if(typeof this.G=="function"){const t=this.ct??globalThis;let e=zt.get(t);e===void 0&&(e=new WeakMap,zt.set(t,e)),e.get(this.G)!==void 0&&this.G.call(this.ct,void 0),e.set(this.G,r),r!==void 0&&this.G.call(this.ct,r)}else this.G.value=r}get rt(){return typeof this.G=="function"?zt.get(this.ct??globalThis)?.get(this.G):this.G?.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});var $n=Object.defineProperty,wn=Object.getOwnPropertyDescriptor,U=(r,t,e,n)=>{for(var a=n>1?void 0:n?wn(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&$n(t,e,a),a},Tn=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},at=(r,t,e)=>(Tn(r,t,"read from private field"),e?e.call(r):t.get(r)),Ct=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Xt,Zt,_t,Kt;o.ClubFolderSelector=class extends y{constructor(){super(),this.selectedClub=null,this.status={message:"",success:!1},this.visible=!1,Ct(this,Xt,()=>v`<div class="header"><img src="${this.selectedClub.icon??"ph-250.png"}" alt="${this.selectedClub.name}" width="32" height="32"> <span>${this.selectedClub.name}</span></div><div class="msg ${this.status.success?"success":"error"}">${this.status.message}</div><o-folder-tree ${yn(at(this,_t))} clubId="${this.selectedClub.id}"></o-folder-tree><div class="buttons"><button class="active-border add" @click="${at(this,Kt)}">Add</button> <button class="active-border cancel" @click="${()=>this.selectedClub=null}">Go back</button></div>`),Ct(this,Zt,()=>v`<div class="header"><span>Your clubs</span></div><div class="clubs">${this.clubs?.map(t=>v`<div class="club" tabindex="0" @click="${()=>this.selectedClub=t}"><img src="${t.icon??"ph-250.png"}" alt="${t.name}" width="24" height="24"> <span>${t.name}</span></div>`)??"loading..."}</div>`),Ct(this,_t,gn()),Ct(this,Kt,async()=>{const t=at(this,_t).value.selected;if(t===null){this.status={message:"You must select a folder!",success:!1};return}const e=await tn({folderId:t,storyId:this.storyId},{RequestVerificationToken:this.csrf});e.ok?this.status={message:"Successfully added",success:!0}:this.status={message:e.statusText,success:!1}})}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded");const t=await en();t.ok?this.clubs=await t.json():w.error(`Error fetching data: ${t.statusText}`)}render(){return v`<a @click="${()=>this.visible=!0}">Add to folder</a> ${this.visible?v`<div class="club-folder-selector my-modal" @click="${()=>this.visible=!1}"><div class="content" @click="${t=>t.stopPropagation()}">${this.selectedClub!==null?at(this,Xt).call(this):at(this,Zt).call(this)}</div></div>`:""}`}createRenderRoot(){return this}},Xt=new WeakMap,Zt=new WeakMap,_t=new WeakMap,Kt=new WeakMap,U([f()],o.ClubFolderSelector.prototype,"storyId",2),U([f()],o.ClubFolderSelector.prototype,"csrf",2),U([m()],o.ClubFolderSelector.prototype,"clubs",2),U([m()],o.ClubFolderSelector.prototype,"folders",2),U([m()],o.ClubFolderSelector.prototype,"selectedClub",2),U([m()],o.ClubFolderSelector.prototype,"status",2),U([m()],o.ClubFolderSelector.prototype,"visible",2),o.ClubFolderSelector=U([_("o-club-folder-selector")],o.ClubFolderSelector);function it(r){"@babel/helpers - typeof";return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(r)}function k(r){if(r===null||r===!0||r===!1)return NaN;var t=Number(r);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function T(r,t){if(t.length<r)throw new TypeError(r+" argument"+(r>1?"s":"")+" required, but only "+t.length+" present")}function S(r){T(1,arguments);var t=Object.prototype.toString.call(r);return r instanceof Date||it(r)==="object"&&t==="[object Date]"?new Date(r.getTime()):typeof r=="number"||t==="[object Number]"?new Date(r):((typeof r=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Cn(r,t){T(2,arguments);var e=S(r),n=k(t);return isNaN(n)?new Date(NaN):(n&&e.setDate(e.getDate()+n),e)}function _n(r,t){T(2,arguments);var e=S(r),n=k(t);if(isNaN(n))return new Date(NaN);if(!n)return e;var a=e.getDate(),i=new Date(e.getTime());i.setMonth(e.getMonth()+n+1,0);var s=i.getDate();return a>=s?i:(e.setFullYear(i.getFullYear(),i.getMonth(),a),e)}function kn(r,t){if(T(2,arguments),!t||it(t)!=="object")return new Date(NaN);var e=t.years?k(t.years):0,n=t.months?k(t.months):0,a=t.weeks?k(t.weeks):0,i=t.days?k(t.days):0,s=t.hours?k(t.hours):0,l=t.minutes?k(t.minutes):0,c=t.seconds?k(t.seconds):0,d=S(r),h=n||e?_n(d,n+e*12):d,u=i||a?Cn(h,i+a*7):h,g=l+s*60,b=c+g*60,C=b*1e3,L=new Date(u.getTime()+C);return L}function Sn(r,t){T(2,arguments);var e=S(r).getTime(),n=k(t);return new Date(e+n)}var On={};function kt(){return On}function En(r){var t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),r.getTime()-t.getTime()}var xe=6e4,Le=36e5;function Pn(r){return T(1,arguments),r instanceof Date||it(r)==="object"&&Object.prototype.toString.call(r)==="[object Date]"}function An(r){if(T(1,arguments),!Pn(r)&&typeof r!="number")return!1;var t=S(r);return!isNaN(Number(t))}function Mn(r,t){T(2,arguments);var e=k(t);return Sn(r,-e)}var Dn=864e5;function Un(r){T(1,arguments);var t=S(r),e=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=e-n;return Math.floor(a/Dn)+1}function St(r){T(1,arguments);var t=1,e=S(r),n=e.getUTCDay(),a=(n<t?7:0)+n-t;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function He(r){T(1,arguments);var t=S(r),e=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(e+1,0,4),n.setUTCHours(0,0,0,0);var a=St(n),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var s=St(i);return t.getTime()>=a.getTime()?e+1:t.getTime()>=s.getTime()?e:e-1}function Nn(r){T(1,arguments);var t=He(r),e=new Date(0);e.setUTCFullYear(t,0,4),e.setUTCHours(0,0,0,0);var n=St(e);return n}var Bn=6048e5;function Wn(r){T(1,arguments);var t=S(r),e=St(t).getTime()-Nn(t).getTime();return Math.round(e/Bn)+1}function Ot(r,t){var e,n,a,i,s,l,c,d;T(1,arguments);var h=kt(),u=k((e=(n=(a=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&e!==void 0?e:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=S(r),b=g.getUTCDay(),C=(b<u?7:0)+b-u;return g.setUTCDate(g.getUTCDate()-C),g.setUTCHours(0,0,0,0),g}function Ye(r,t){var e,n,a,i,s,l,c,d;T(1,arguments);var h=S(r),u=h.getUTCFullYear(),g=kt(),b=k((e=(n=(a=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:g.firstWeekContainsDate)!==null&&n!==void 0?n:(c=g.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&e!==void 0?e:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=new Date(0);C.setUTCFullYear(u+1,0,b),C.setUTCHours(0,0,0,0);var L=Ot(C,t),H=new Date(0);H.setUTCFullYear(u,0,b),H.setUTCHours(0,0,0,0);var ht=Ot(H,t);return h.getTime()>=L.getTime()?u+1:h.getTime()>=ht.getTime()?u:u-1}function Rn(r,t){var e,n,a,i,s,l,c,d;T(1,arguments);var h=kt(),u=k((e=(n=(a=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(l=s.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&e!==void 0?e:1),g=Ye(r,t),b=new Date(0);b.setUTCFullYear(g,0,u),b.setUTCHours(0,0,0,0);var C=Ot(b,t);return C}var jn=6048e5;function In(r,t){T(1,arguments);var e=S(r),n=Ot(e,t).getTime()-Rn(e,t).getTime();return Math.round(n/jn)+1}function p(r,t){for(var e=r<0?"-":"",n=Math.abs(r).toString();n.length<t;)n="0"+n;return e+n}var N={y:function(t,e){var n=t.getUTCFullYear(),a=n>0?n:1-n;return p(e==="yy"?a%100:a,e.length)},M:function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):p(n+1,2)},d:function(t,e){return p(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,e){return p(t.getUTCHours()%12||12,e.length)},H:function(t,e){return p(t.getUTCHours(),e.length)},m:function(t,e){return p(t.getUTCMinutes(),e.length)},s:function(t,e){return p(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return p(i,e.length)}},G={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fn={G:function(t,e,n){var a=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return N.y(t,e)},Y:function(t,e,n,a){var i=Ye(t,a),s=i>0?i:1-i;if(e==="YY"){var l=s%100;return p(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):p(s,e.length)},R:function(t,e){var n=He(t);return p(n,e.length)},u:function(t,e){var n=t.getUTCFullYear();return p(n,e.length)},Q:function(t,e,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return p(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return p(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){var a=t.getUTCMonth();switch(e){case"M":case"MM":return N.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){var a=t.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return p(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){var i=In(t,a);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):p(i,e.length)},I:function(t,e,n){var a=Wn(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):p(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):N.d(t,e)},D:function(t,e,n){var a=Un(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):p(a,e.length)},E:function(t,e,n){var a=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return p(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return p(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var a=t.getUTCDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return p(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var a=t.getUTCHours(),i;switch(a===12?i=G.noon:a===0?i=G.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var a=t.getUTCHours(),i;switch(a>=17?i=G.evening:a>=12?i=G.afternoon:a>=4?i=G.morning:i=G.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return N.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):N.H(t,e)},K:function(t,e,n){var a=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):p(a,e.length)},k:function(t,e,n){var a=t.getUTCHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):p(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):N.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):N.s(t,e)},S:function(t,e){return N.S(t,e)},X:function(t,e,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Ge(s);case"XXXX":case"XX":return I(s);case"XXXXX":case"XXX":default:return I(s,":")}},x:function(t,e,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(e){case"x":return Ge(s);case"xxxx":case"xx":return I(s);case"xxxxx":case"xxx":default:return I(s,":")}},O:function(t,e,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qe(s,":");case"OOOO":default:return"GMT"+I(s,":")}},z:function(t,e,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qe(s,":");case"zzzz":default:return"GMT"+I(s,":")}},t:function(t,e,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return p(s,e.length)},T:function(t,e,n,a){var i=a._originalDate||t,s=i.getTime();return p(s,e.length)}};function qe(r,t){var e=r>0?"-":"+",n=Math.abs(r),a=Math.floor(n/60),i=n%60;if(i===0)return e+String(a);var s=t||"";return e+String(a)+s+p(i,2)}function Ge(r,t){if(r%60===0){var e=r>0?"-":"+";return e+p(Math.abs(r)/60,2)}return I(r,t)}function I(r,t){var e=t||"",n=r>0?"-":"+",a=Math.abs(r),i=p(Math.floor(a/60),2),s=p(a%60,2);return n+i+e+s}var xn=Fn,Ve=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Je=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ln=function(t,e){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Ve(t,e);var s;switch(a){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Ve(a,e)).replace("{{time}}",Je(i,e))},Hn={p:Je,P:Ln},Yn=Hn,qn=["D","DD"],Gn=["YY","YYYY"];function Vn(r){return qn.indexOf(r)!==-1}function Jn(r){return Gn.indexOf(r)!==-1}function Qe(r,t,e){if(r==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(r==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Qn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zn=function(t,e,n){var a,i=Qn[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function te(r){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.width?String(t.width):r.defaultWidth,n=r.formats[e]||r.formats[r.defaultWidth];return n}}var Xn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ta={date:te({formats:Xn,defaultWidth:"full"}),time:te({formats:Zn,defaultWidth:"full"}),dateTime:te({formats:Kn,defaultWidth:"full"})},ea={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ra=function(t,e,n,a){return ea[t]};function st(r){return function(t,e){var n=e!=null&&e.context?String(e.context):"standalone",a;if(n==="formatting"&&r.formattingValues){var i=r.defaultFormattingWidth||r.defaultWidth,s=e!=null&&e.width?String(e.width):i;a=r.formattingValues[s]||r.formattingValues[i]}else{var l=r.defaultWidth,c=e!=null&&e.width?String(e.width):r.defaultWidth;a=r.values[c]||r.values[l]}var d=r.argumentCallback?r.argumentCallback(t):t;return a[d]}}var na={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},aa={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ia={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sa={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oa={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ca={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},la=function(t,e){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},da={ordinalNumber:la,era:st({values:na,defaultWidth:"wide"}),quarter:st({values:aa,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:st({values:ia,defaultWidth:"wide"}),day:st({values:sa,defaultWidth:"wide"}),dayPeriod:st({values:oa,defaultWidth:"wide",formattingValues:ca,defaultFormattingWidth:"wide"})};function ot(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],l=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(l)?ha(l,function(u){return u.test(s)}):ua(l,function(u){return u.test(s)}),d;d=r.valueCallback?r.valueCallback(c):c,d=e.valueCallback?e.valueCallback(d):d;var h=t.slice(s.length);return{value:d,rest:h}}}function ua(r,t){for(var e in r)if(r.hasOwnProperty(e)&&t(r[e]))return e}function ha(r,t){for(var e=0;e<r.length;e++)if(t(r[e]))return e}function fa(r){return function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(r.matchPattern);if(!n)return null;var a=n[0],i=t.match(r.parsePattern);if(!i)return null;var s=r.valueCallback?r.valueCallback(i[0]):i[0];s=e.valueCallback?e.valueCallback(s):s;var l=t.slice(a.length);return{value:s,rest:l}}}var va=/^(\d+)(th|st|nd|rd)?/i,ma=/\d+/i,pa={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ga={any:[/^b/i,/^(a|c)/i]},ba={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ya={any:[/1/i,/2/i,/3/i,/4/i]},$a={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ta={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ca={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_a={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ka={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sa={ordinalNumber:fa({matchPattern:va,parsePattern:ma,valueCallback:function(t){return parseInt(t,10)}}),era:ot({matchPatterns:pa,defaultMatchWidth:"wide",parsePatterns:ga,defaultParseWidth:"any"}),quarter:ot({matchPatterns:ba,defaultMatchWidth:"wide",parsePatterns:ya,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ot({matchPatterns:$a,defaultMatchWidth:"wide",parsePatterns:wa,defaultParseWidth:"any"}),day:ot({matchPatterns:Ta,defaultMatchWidth:"wide",parsePatterns:Ca,defaultParseWidth:"any"}),dayPeriod:ot({matchPatterns:_a,defaultMatchWidth:"any",parsePatterns:ka,defaultParseWidth:"any"})},Oa={code:"en-US",formatDistance:zn,formatLong:ta,formatRelative:ra,localize:da,match:Sa,options:{weekStartsOn:0,firstWeekContainsDate:1}},Ea=Oa,Pa=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Aa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ma=/^'([^]*?)'?$/,Da=/''/g,Ua=/[a-zA-Z]/;function ze(r,t,e){var n,a,i,s,l,c,d,h,u,g,b,C,L,H,ht,be,ye,$e;T(2,arguments);var Hi=String(t),ft=kt(),vt=(n=(a=e?.locale)!==null&&a!==void 0?a:ft.locale)!==null&&n!==void 0?n:Ea,we=k((i=(s=(l=(c=e?.firstWeekContainsDate)!==null&&c!==void 0?c:e==null||(d=e.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&l!==void 0?l:ft.firstWeekContainsDate)!==null&&s!==void 0?s:(u=ft.locale)===null||u===void 0||(g=u.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(we>=1&&we<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Te=k((b=(C=(L=(H=e?.weekStartsOn)!==null&&H!==void 0?H:e==null||(ht=e.locale)===null||ht===void 0||(be=ht.options)===null||be===void 0?void 0:be.weekStartsOn)!==null&&L!==void 0?L:ft.weekStartsOn)!==null&&C!==void 0?C:(ye=ft.locale)===null||ye===void 0||($e=ye.options)===null||$e===void 0?void 0:$e.weekStartsOn)!==null&&b!==void 0?b:0);if(!(Te>=0&&Te<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!vt.localize)throw new RangeError("locale must contain localize property");if(!vt.formatLong)throw new RangeError("locale must contain formatLong property");var Rt=S(r);if(!An(Rt))throw new RangeError("Invalid time value");var Yi=En(Rt),qi=Mn(Rt,Yi),Gi={firstWeekContainsDate:we,weekStartsOn:Te,locale:vt,_originalDate:Rt},Vi=Hi.match(Aa).map(function(O){var B=O[0];if(B==="p"||B==="P"){var jt=Yn[B];return jt(O,vt.formatLong)}return O}).join("").match(Pa).map(function(O){if(O==="''")return"'";var B=O[0];if(B==="'")return Na(O);var jt=xn[B];if(jt)return!(e!=null&&e.useAdditionalWeekYearTokens)&&Jn(O)&&Qe(O,t,String(r)),!(e!=null&&e.useAdditionalDayOfYearTokens)&&Vn(O)&&Qe(O,t,String(r)),jt(qi,O,vt.localize,Gi);if(B.match(Ua))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return O}).join("");return Vi}function Na(r){var t=r.match(Ma);return t?t[1].replace(Da,"'"):r}function Ba(r,t){var e;T(1,arguments);var n=k((e=t?.additionalDigits)!==null&&e!==void 0?e:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof r=="string"||Object.prototype.toString.call(r)==="[object String]"))return new Date(NaN);var a=Ia(r),i;if(a.date){var s=Fa(a.date,n);i=xa(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l=i.getTime(),c=0,d;if(a.time&&(c=La(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(d=Ha(a.timezone),isNaN(d))return new Date(NaN)}else{var h=new Date(l+c),u=new Date(0);return u.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),u.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),u}return new Date(l+c+d)}var Et={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wa=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ra=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ja=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ia(r){var t={},e=r.split(Et.dateTimeDelimiter),n;if(e.length>2)return t;if(/:/.test(e[0])?n=e[0]:(t.date=e[0],n=e[1],Et.timeZoneDelimiter.test(t.date)&&(t.date=r.split(Et.timeZoneDelimiter)[0],n=r.substr(t.date.length,r.length))),n){var a=Et.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Fa(r,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=r.match(e);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:r.slice((n[1]||n[2]).length)}}function xa(r,t){if(t===null)return new Date(NaN);var e=r.match(Wa);if(!e)return new Date(NaN);var n=!!e[4],a=ct(e[1]),i=ct(e[2])-1,s=ct(e[3]),l=ct(e[4]),c=ct(e[5])-1;if(n)return Ja(t,l,c)?Ya(t,l,c):new Date(NaN);var d=new Date(0);return!Ga(t,i,s)||!Va(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,s)),d)}function ct(r){return r?parseInt(r):1}function La(r){var t=r.match(Ra);if(!t)return NaN;var e=ee(t[1]),n=ee(t[2]),a=ee(t[3]);return Qa(e,n,a)?e*Le+n*xe+a*1e3:NaN}function ee(r){return r&&parseFloat(r.replace(",","."))||0}function Ha(r){if(r==="Z")return 0;var t=r.match(ja);if(!t)return 0;var e=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return za(n,a)?e*(n*Le+a*xe):NaN}function Ya(r,t,e){var n=new Date(0);n.setUTCFullYear(r,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+e+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var qa=[31,null,31,30,31,30,31,31,30,31,30,31];function Xe(r){return r%400===0||r%4===0&&r%100!==0}function Ga(r,t,e){return t>=0&&t<=11&&e>=1&&e<=(qa[t]||(Xe(r)?29:28))}function Va(r,t){return t>=1&&t<=(Xe(r)?366:365)}function Ja(r,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function Qa(r,t,e){return r===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&r>=0&&r<25}function za(r,t){return t>=0&&t<=59}var Xa=Object.defineProperty,Za=Object.getOwnPropertyDescriptor,Ze=(r,t,e,n)=>{for(var a=n>1?void 0:n?Za(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Xa(t,e,a),a};o.Clock=class extends y{constructor(){super(),setInterval(()=>{this.date=kn(this.date,{seconds:1})},1e3)}connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded")}render(){return v`<time class="timer" datetime="${ze(this.date,"yyyy-MM-dd HH:mm")}" title="Server time">${ze(this.date,"dd.MM.yyyy HH:mm:ss")}</time>`}},o.Clock.styles=xt`time{font-family:"Courier New",Courier,monospace;letter-spacing:-2px;margin:auto 0}`,Ze([f({converter:(r,t)=>Ba(r)})],o.Clock.prototype,"date",2),o.Clock=Ze([_("o-clock")],o.Clock);var Ka=Object.defineProperty,ti=Object.getOwnPropertyDescriptor,V=(r,t,e,n)=>{for(var a=n>1?void 0:n?ti(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Ka(t,e,a),a};o.ClubBanButton=class extends y{constructor(){super()}async connectedCallback(){super.connectedCallback(),this.isBanned=this.banned,this.classList.add("wc-loaded")}render(){return v`<button class="votes action-btn large ${this.isBanned?"active":""}" @click="${this.banOrUnban}">${this.isBanned?"Unban":"Ban"}</button>`}async banOrUnban(){const t=this.isBanned?an:nn,e={clubId:this.clubId,userId:this.userId};w.log(`Cid: ${this.clubId} Uid: ${this.userId}`),w.log({clubId:this.clubId,userId:this.userId,foo:420});const n=await t({...e,...this.isBanned?{}:{reason:prompt("What's the reason?")}},{RequestVerificationToken:this.csrf});n.ok?this.isBanned=await n.json():w.error(`Error fetching data: ${n.statusText}`)}createRenderRoot(){return this}},V([f()],o.ClubBanButton.prototype,"clubId",2),V([f()],o.ClubBanButton.prototype,"userId",2),V([f()],o.ClubBanButton.prototype,"csrf",2),V([f()],o.ClubBanButton.prototype,"banned",2),V([m()],o.ClubBanButton.prototype,"isBanned",2),o.ClubBanButton=V([_("o-club-ban")],o.ClubBanButton);const ei=Jt(class extends Qt{constructor(r){if(super(r),r.type!==Vt.ATTRIBUTE||r.name!=="class"||r.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(t=>r[t]).join(" ")+" "}update(r,[t]){if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.st=new Set(r.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in t)t[n]&&!this.st?.has(n)&&this.it.add(n);return this.render(t)}const e=r.element.classList;for(const n of this.it)n in t||(e.remove(n),this.it.delete(n));for(const n in t){const a=!!t[n];a===this.it.has(n)||this.st?.has(n)||(a?(e.add(n),this.it.add(n)):(e.remove(n),this.it.delete(n)))}return D}});var ri=Object.defineProperty,ni=Object.getOwnPropertyDescriptor,E=(r,t,e,n)=>{for(var a=n>1?void 0:n?ni(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&ri(t,e,a),a},ai=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Pt=(r,t,e)=>(ai(r,t,"read from private field"),e?e.call(r):t.get(r)),re=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},ne,At,ae;o.FolderTree=class extends y{constructor(){super(),this.value=null,this.current=null,this.selected=this.value,this.inputSelector=void 0,this.folders=[],this.tree=[],re(this,ne,t=>{w.info(`Selecting folder with ID ${t} in the tree`),this.selected=t,this.input.value=t}),re(this,At,t=>{const e=t.id===this.current||!t.canAdd?"-1":"0",n=ei({disabled:t.id===this.current,locked:!t.canAdd});return v`<div class="folder ${n}"><span class="${this.selected===t.id?"active":""}" tabindex="${e}" @click="${()=>Pt(this,ne).call(this,t.id)}">${t.name} </span>${t.children?.map(Pt(this,At))??""}</div>`}),re(this,ae,()=>{let t=Object.create(null);this.folders.forEach(e=>t[e.id]={...e,children:[]}),this.folders.forEach(e=>{e.parentFolderId?t[e.parentFolderId].children.push(t[e.id]):this.tree.push(t[e.id])})})}async connectedCallback(){w.info("tree connected"),super.connectedCallback(),this.classList.add("wc-loaded"),this.inputSelector!==void 0&&(this.input=document.querySelector(this.inputSelector),this.input.value=null);const t=await Kr(this.clubId);t.ok?this.folders=await t.json():w.error(`Error fetching data: ${t.statusText}`),Pt(this,ae).call(this)}render(){return v`<div class="folder-tree active-border">${this.tree.length>0?v`${this.tree.map(Pt(this,At))}`:v`<span>No folder found</span>`}</div>`}createRenderRoot(){return this}},ne=new WeakMap,At=new WeakMap,ae=new WeakMap,E([f()],o.FolderTree.prototype,"clubId",2),E([f()],o.FolderTree.prototype,"value",2),E([f()],o.FolderTree.prototype,"current",2),E([f()],o.FolderTree.prototype,"selected",2),E([f()],o.FolderTree.prototype,"inputSelector",2),E([m()],o.FolderTree.prototype,"folders",2),E([m()],o.FolderTree.prototype,"tree",2),E([m()],o.FolderTree.prototype,"name",2),E([m()],o.FolderTree.prototype,"input",2),o.FolderTree=E([_("o-folder-tree")],o.FolderTree);var ii=Object.defineProperty,si=Object.getOwnPropertyDescriptor,Mt=(r,t,e,n)=>{for(var a=n>1?void 0:n?si(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&ii(t,e,a),a};o.FeaturedInClubs=class extends y{constructor(){super()}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded"),await this.fetch()}async fetch(){const t=await rn(this.storyId);t.ok?this.clubs=await t.json():w.error(`Error fetching data: ${t.statusText}`)}async open(){this.visible=!0,await this.fetch()}render(){return v`<a @click="${async()=>await this.open()}">Featured in clubs</a> ${this.visible?v`<div class="club-folder-selector my-modal" @click="${()=>this.visible=!1}"><div class="content" @click="${t=>t.stopPropagation()}"><div class="header"><span>Featured in</span></div>${this.clubs.length>0?v`<div class="clubs">${this.clubs.map(t=>v`<a href="/club/${t.id}/${t.name.toLowerCase().replace(" ","-")}" target="_blank" class="club" tabindex="0"><img src="${t.icon??"ph-250.png"}" alt="${t.name}" width="24" height="24"> <span>${t.name}</span></a>`)}</div>`:v`<div>This story hasn't been added to any clubs yet.</div>`}</div></div>`:null}`}createRenderRoot(){return this}},Mt([f()],o.FeaturedInClubs.prototype,"storyId",2),Mt([m()],o.FeaturedInClubs.prototype,"visible",2),Mt([m()],o.FeaturedInClubs.prototype,"clubs",2),o.FeaturedInClubs=Mt([_("o-featured-in-clubs")],o.FeaturedInClubs);var oi=Object.defineProperty,ci=Object.getOwnPropertyDescriptor,Dt=(r,t,e,n)=>{for(var a=n>1?void 0:n?ci(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&oi(t,e,a),a},li=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},di=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},ui=(r,t,e)=>(li(r,t,"access private method"),e),ie,Ke;o.FollowButton=class extends y{constructor(){super(),di(this,ie)}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded")}render(){return v`<button class="button max ${this.isFollowed?"leave":"join"}" title="${this.isFollowed?"Unfollow":"Follow"}" @click="${ui(this,ie,Ke)}">${this.isFollowed?"Following":"Follow"}</button>`}createRenderRoot(){return this}},ie=new WeakSet,Ke=async function(){const r=await(this.isFollowed?Lr:xr)({name:this.userName},{RequestVerificationToken:this.csrf});r.ok?this.isFollowed=await r.json():w.warn(r.statusText)},Dt([f()],o.FollowButton.prototype,"userName",2),Dt([f()],o.FollowButton.prototype,"csrf",2),Dt([f()],o.FollowButton.prototype,"isFollowed",2),o.FollowButton=Dt([_("o-follow")],o.FollowButton);var hi=Object.defineProperty,fi=Object.getOwnPropertyDescriptor,tr=(r,t,e,n)=>{for(var a=n>1?void 0:n?fi(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&hi(t,e,a),a};o.Modal=class extends y{constructor(){super()}async connectedCallback(){super.connectedCallback()}show(){this.visible=!0}hide(){this.visible=!1}toggle(){this.visible=!this.visible}render(){return this.visible?v`<div class="my-modal" @click="${this.hide}"><div class="content" @click="${t=>t.stopPropagation()}"><slot></slot></div></div>`:null}},o.Modal.style=xt`.my-modal{position:fixed;display:flex;align-items:center;justify-content:center;inset:0;width:100%;height:100%;z-index:999;background:var(--foreground-50)}.content{min-width:20rem;width:min(40rem,100vw);max-height:30rem;background:var(--background);padding:1rem;height:100%;overflow-y:auto;border:5px solid var(--background)}`,tr([f({attribute:!1})],o.Modal.prototype,"visible",2),o.Modal=tr([_("o-modal")],o.Modal),Number.prototype.normalize=function(r,t){if(t<r)throw"Max cannot be less than min";return(this-r)/(t-r)},Number.prototype.clamp=function(r=0,t=1){if(t<r)throw"Max cannot be less than min";return this<r?r:this>t?t:this};var vi=Object.defineProperty,mi=Object.getOwnPropertyDescriptor,er=(r,t,e,n)=>{for(var a=n>1?void 0:n?mi(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&vi(t,e,a),a},pi=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},rr=(r,t,e)=>(pi(r,t,"read from private field"),e?e.call(r):t.get(r)),nr=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},se,oe;o.NotificationsButton=class extends y{constructor(){super(),nr(this,se,()=>this.notifications<=99?this.notifications.clamp(0,99).toString():"99+"),nr(this,oe,()=>this.notifications>0?`${this.notifications} notifications`:"Notifications")}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded");const t=await Zr();t.ok?this.notifications=await t.json():w.error(t.statusText)}render(){return v`<a class="nav-link light notifications-btn" href="/notifications" title="${rr(this,oe).call(this)}"><i class="material-icons-outlined">notifications</i> ${(this.notifications??-1)>0?v`<span>${rr(this,se).call(this)}</span>`:null}</a>`}createRenderRoot(){return this}},se=new WeakMap,oe=new WeakMap,er([m()],o.NotificationsButton.prototype,"notifications",2),o.NotificationsButton=er([_("o-notifications-button")],o.NotificationsButton);var gi=Object.defineProperty,bi=Object.getOwnPropertyDescriptor,ce=(r,t,e,n)=>{for(var a=n>1?void 0:n?bi(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&gi(t,e,a),a},yi=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},$i=(r,t,e)=>(yi(r,t,"read from private field"),e?e.call(r):t.get(r)),wi=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},le;o.QuoteBox=class extends y{constructor(){super(),wi(this,le,()=>this._loading?"spin":"")}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded"),await this.load()}render(){return v`<div id="quote" class="quote active-border"><div class="refresh" @click="${this.load}"><i class="material-icons-outlined ${$i(this,le).call(this)}">refresh</i></div>${this._quote?v`<em class="body">${this._quote.body}</em> <span class="author">${this._quote.author}</span>`:v`<span>Loading the quote...</span>`}</div>`}async load(){const t=await Xr();t.ok?(this._quote=await t.json(),window.localStorage.setItem("quote",JSON.stringify(this._quote))):(w.error(t.statusText),this._quote=JSON.parse(window.localStorage.getItem("quote")))}createRenderRoot(){return this}},le=new WeakMap,ce([m()],o.QuoteBox.prototype,"_loading",2),ce([m()],o.QuoteBox.prototype,"_quote",2),o.QuoteBox=ce([_("quote-box")],o.QuoteBox);const ar="important",Ti=" !"+ar,Ci=Jt(class extends Qt{constructor(r){if(super(r),r.type!==Vt.ATTRIBUTE||r.name!=="style"||r.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(r){return Object.keys(r).reduce((t,e)=>{const n=r[e];return n==null?t:t+`${e=e.includes("-")?e:e.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`},"")}update(r,[t]){const{style:e}=r.element;if(this.ut===void 0)return this.ut=new Set(Object.keys(t)),this.render(t);for(const n of this.ut)t[n]==null&&(this.ut.delete(n),n.includes("-")?e.removeProperty(n):e[n]=null);for(const n in t){const a=t[n];if(a!=null){this.ut.add(n);const i=typeof a=="string"&&a.endsWith(Ti);n.includes("-")||i?e.setProperty(n,i?a.slice(0,-11):a,i?ar:""):e[n]=a}}return D}});var _i=Object.defineProperty,ki=Object.getOwnPropertyDescriptor,lt=(r,t,e,n)=>{for(var a=n>1?void 0:n?ki(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&_i(t,e,a),a},Si=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Oi=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Ei=(r,t,e)=>(Si(r,t,"access private method"),e),de,ir;o.ReadProgress=class extends y{constructor(){super(),Oi(this,de),this.progress=0,this.ticking=!1}connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded"),this.windowHeight=window.innerHeight,this.containerHeight=this.parentElement.offsetTop+this.parentElement.offsetHeight,document.addEventListener("scroll",()=>{this.ticking||(window.requestAnimationFrame(()=>{Ei(this,de,ir).call(this),this.ticking=!1}),this.ticking=!0)})}render(){return v`<div class="bar" style="${Ci({width:`${this.progress*100}%`})}"></div>`}},de=new WeakSet,ir=function(){const r=this.parentElement.getBoundingClientRect().bottom-this.windowHeight,t=Math.max(this.containerHeight-this.windowHeight,0);this.progress=1-r.normalize(0,t).clamp()},o.ReadProgress.styles=xt`:host{position:fixed;position:sticky;bottom:0;left:0;padding:0;margin:0;width:100%}.bar{position:relative;height:3px;margin-top:auto;background-color:var(--accent);transition:width 50ms ease-out}`,lt([m()],o.ReadProgress.prototype,"progress",2),lt([m()],o.ReadProgress.prototype,"windowHeight",2),lt([m()],o.ReadProgress.prototype,"containerHeight",2),lt([m()],o.ReadProgress.prototype,"ticking",2),o.ReadProgress=lt([_("o-read-progress")],o.ReadProgress);var Pi=Object.defineProperty,Ai=Object.getOwnPropertyDescriptor,Ut=(r,t,e,n)=>{for(var a=n>1?void 0:n?Ai(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Pi(t,e,a),a};o.JoinClubButton=class extends y{constructor(){super(),this.isMember=!1,this.join=async()=>{const t=await(this.isMember?on:sn)({clubId:this.clubId},{RequestVerificationToken:this.csrf});t.ok?this.isMember=await t.json():w.warn(t.statusText)}}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded")}render(){return v`<button class="button max ${this.isMember?"leave":"join"}" title="${this.isMember?"Leave":"Join"}" @click="${this.join}">${this.isMember?"Leave club":"Join club"}</button>`}createRenderRoot(){return this}},Ut([f()],o.JoinClubButton.prototype,"clubId",2),Ut([f()],o.JoinClubButton.prototype,"csrf",2),Ut([f()],o.JoinClubButton.prototype,"isMember",2),o.JoinClubButton=Ut([_("o-join")],o.JoinClubButton);var Mi=Object.defineProperty,Di=Object.getOwnPropertyDescriptor,P=(r,t,e,n)=>{for(var a=n>1?void 0:n?Di(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Mi(t,e,a),a};o.ReportModal=class extends y{constructor(){super(),this.rules={min:50,max:500},this.chars=0,this.success=null,this.show=()=>this.visible=!0,this.validate=()=>this.reason&&this.reason.length>=this.rules.min&&this.reason.length<=this.rules.max,this.message=()=>{switch(this.success){case!0:return{msg:"Report delivered!",cls:"green"};case!1:return{msg:"An error has occurred. Retry?",cls:"red"};default:return{msg:"Send report",cls:null}}},this.submit=async t=>{t.preventDefault();const e=await zr({itemId:this.itemId,reason:this.reason,itemType:this.itemType},{RequestVerificationToken:this.csrf});this.success=e.ok},this.updateText=t=>{this.reason=t.currentTarget.value,this.chars=this.reason.length}}connectedCallback(){super.connectedCallback(),this.openSelector&&document.querySelector(this.openSelector).addEventListener("click",this.show)}render(){return v`${this.visible?v`<div class="club-folder-selector my-modal" @click="${()=>this.visible=!1}"><div class="content" @click="${t=>t.stopPropagation()}"><div class="header"><span>Report</span></div><form class="form" @submit="${this.submit}"><div class="o-form-group"><label for="reason">Reason</label> <textarea name="reason" id="reason" class="o-form-control active-border" rows="5" @input="${this.updateText}"></textarea><div class="counter ${this.validate()||"invalid"}"><div class="o-progress-bar" style="width:${Math.min(100,100*(this.chars/this.rules.max))+"%"}"></div><span>${this.chars}/${this.rules.max} chars</span></div>${this.validate()?null:v`<span>Reason must be between ${this.rules.min} and ${this.rules.max} characters long.</span>`}</div><div class="o-form-group"><button type="submit" class="btn ${this.message().cls}">${this.message().msg}</button></div></form></div></div>`:null}`}createRenderRoot(){return this}},P([f()],o.ReportModal.prototype,"openSelector",2),P([f()],o.ReportModal.prototype,"csrf",2),P([f()],o.ReportModal.prototype,"itemId",2),P([f()],o.ReportModal.prototype,"itemType",2),P([m()],o.ReportModal.prototype,"visible",2),P([m()],o.ReportModal.prototype,"chars",2),P([m()],o.ReportModal.prototype,"reason",2),P([m()],o.ReportModal.prototype,"success",2),o.ReportModal=P([_("report-modal")],o.ReportModal);const Ui=(r,t)=>document.addEventListener("click",e=>{e.composedPath().includes(r)||t()});var Ni=Object.defineProperty,Bi=Object.getOwnPropertyDescriptor,F=(r,t,e,n)=>{for(var a=n>1?void 0:n?Bi(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Ni(t,e,a),a},sr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},or=(r,t,e)=>(sr(r,t,"read from private field"),e?e.call(r):t.get(r)),J=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},x=(r,t,e)=>(sr(r,t,"access private method"),e),ue,he,fe,cr,Nt,ve,Bt,me,Wt,pe;o.ShelvesButton=class extends y{constructor(){super(),J(this,fe),J(this,Nt),J(this,Bt),J(this,Wt),this.quickShelves=[],this.shelves=[],this.more=!1,this.page=1,J(this,ue,t=>v`<button class="shelf action-btn" title="Add to ${t.name}" @click="${()=>x(this,Wt,pe).call(this,t.id)}" style="box-shadow:${t.doesContainBook?t.color+" inset 0 0 0 3px":null}"><i class="material-icons-outlined" style="color:${t.color}">${t.iconName??"bookmark_border"}</i></button>`),J(this,he,t=>v`<button class="action-btn" title="Add to ${t.name}" @click="${()=>x(this,Wt,pe).call(this,t.id)}" style="box-shadow:${t.doesContainBook?t.color+" inset 0 0 0 3px":null}"><i class="material-icons-outlined" style="color:${t.color}">${t.iconName??"bookmark_border"} </i><span>${t.name}</span></button>`)}async connectedCallback(){super.connectedCallback(),await x(this,Nt,ve).call(this),this.classList.add("wc-loaded"),Ui(this,()=>this.more=!1)}render(){return v`${this.quickShelves?.map(or(this,ue))} <button title="All bookshelves" class="shelf action-btn" @click="${()=>x(this,fe,cr).call(this)}"><i class="material-icons-outlined">more_horiz</i></button> ${this.more?v`<div class="more-shelves">${this.shelves?.map(or(this,he))}</div>`:null}`}createRenderRoot(){return this}},ue=new WeakMap,he=new WeakMap,fe=new WeakSet,cr=async function(){this.more=!this.more,this.more&&await x(this,Bt,me).call(this)},Nt=new WeakSet,ve=async function(){const r=await Gr(this.storyId);r.ok?this.quickShelves=await r.json():w.error(r.statusText)},Bt=new WeakSet,me=async function(){const r=await Vr(this.storyId,this.page);r.ok?this.shelves=await r.json():w.error(r.statusText)},Wt=new WeakSet,pe=async function(r){const t=await([...this.shelves,...this.quickShelves].some(e=>e.doesContainBook&&e.id===r)?Qr:Jr)(r,this.storyId,{RequestVerificationToken:this.csrf});t.ok?(await x(this,Nt,ve).call(this),await x(this,Bt,me).call(this)):w.error(t.statusText)},F([f()],o.ShelvesButton.prototype,"storyId",2),F([f()],o.ShelvesButton.prototype,"csrf",2),F([m()],o.ShelvesButton.prototype,"quickShelves",2),F([m()],o.ShelvesButton.prototype,"shelves",2),F([m()],o.ShelvesButton.prototype,"more",2),F([m()],o.ShelvesButton.prototype,"page",2),o.ShelvesButton=F([_("o-shelves")],o.ShelvesButton);var Wi=Object.defineProperty,Ri=Object.getOwnPropertyDescriptor,dt=(r,t,e,n)=>{for(var a=n>1?void 0:n?Ri(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&Wi(t,e,a),a},ji=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Ii=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Fi=(r,t,e)=>(ji(r,t,"access private method"),e),ge,lr;o.SubscribeThreadButton=class extends y{constructor(){super(),Ii(this,ge)}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded");const t=await Hr(this.threadId);t.ok?this.subscribed=await t.json():w.error(t.statusText)}render(){return v`<button class="action-btn ${this.subscribed?"active":""}" @click="${Fi(this,ge,lr)}" title="${this.subscribed?"Unsubscribe":"Subscribe"}"><i class="material-icons-outlined">${this.subscribed?"notifications_active":"notifications"}</i> ${this.subscribed?"Subscribed!":"Subscribe"}</button>`}createRenderRoot(){return this}},ge=new WeakSet,lr=async function(){const r=await(this.subscribed?qr:Yr)({threadId:this.threadId});r.ok?this.subscribed=await r.json():w.error(r.statusText)},dt([f()],o.SubscribeThreadButton.prototype,"endpoint",2),dt([f()],o.SubscribeThreadButton.prototype,"threadId",2),dt([f()],o.SubscribeThreadButton.prototype,"csrf",2),dt([m()],o.SubscribeThreadButton.prototype,"subscribed",2),o.SubscribeThreadButton=dt([_("o-subscribe")],o.SubscribeThreadButton);var xi=Object.defineProperty,Li=Object.getOwnPropertyDescriptor,ut=(r,t,e,n)=>{for(var a=n>1?void 0:n?Li(t,e):t,i=r.length-1,s;i>=0;i--)(s=r[i])&&(a=(n?s(t,e,a):s(a))||a);return n&&a&&xi(t,e,a),a};o.VoteButton=class extends y{constructor(){super()}async connectedCallback(){super.connectedCallback(),this.classList.add("wc-loaded");const t=await Wr(this.storyId);if(t.ok){const e=await t.json();this.score=e.count,this.voted=e.didVote}else w.error(`Error fetching data: ${t.statusText}`)}render(){return v`<button class="votes action-btn large ${this.voted?"active":""}" @click="${this.vote}" title="Give it a star!"><i class="material-icons-outlined">${this.voted?"star":"star_border"}</i> <span class="count">${this.score??0}</span></button>`}async vote(){const t=await(this.voted?jr:Rr)({storyId:this.storyId},{RequestVerificationToken:this.csrf});if(t.ok){const e=await t.json();this.score=e.count,this.voted=e.didVote}else w.error(`Error fetching data: ${t.statusText}`)}createRenderRoot(){return this}},ut([f()],o.VoteButton.prototype,"storyId",2),ut([f()],o.VoteButton.prototype,"csrf",2),ut([m()],o.VoteButton.prototype,"voted",2),ut([m()],o.VoteButton.prototype,"score",2),o.VoteButton=ut([_("o-vote")],o.VoteButton)});
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
//# sourceMappingURL=components.js.map
