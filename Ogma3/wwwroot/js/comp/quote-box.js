import{r as D}from"./chunk-1pgp53hp.js";import"./chunk-v3754c6r.js";import{$ as T,G as p,H as v,J as _,K as $,M as S,N as h,Q as L,T as o,U as w,X as b,_ as n,aa as q}from"./chunk-3v8fzpj7.js";var g=(r)=>[()=>JSON.parse(localStorage.getItem(r)),(s)=>localStorage.setItem(r,JSON.stringify(s)),()=>localStorage.removeItem(r)];var C=o("<em class=body>"),E=o("<span class=author>"),O=o('<div id=quote class="quote active-border"><button type=button class=refresh><o-icon class=material-icons-outlined>',!0,!1,!1),x=o("<span>Loading the quote..."),N=(r,{element:s})=>{T(),$(()=>{s.classList.add("wc-loaded")});let[i,c]=p(!0),[u,I]=g("quote"),Q=async()=>{if(!i())return u();c(!1);let t=await D();if(setTimeout(()=>{c(!0)},Number.parseInt(t.headers.get("retry-after"))*1000),t.ok)return I(t.data),t.data;if(t.status===429)return u()},[a,{refetch:k}]=_(()=>Q()),y=()=>i()?"lucide:refresh-cw":"lucide:clock";return()=>(()=>{var t=O(),m=t.firstChild,l=m.firstChild;return b(m,"click",k,!0),l._$owner=S(),n(t,h(L,{get when(){return a()},get fallback(){return x()},get children(){return[(()=>{var e=C();return n(e,()=>a().body),e})(),(()=>{var e=E();return n(e,()=>a().author),e})()]}}),null),v((e)=>{var d=y(),f=!!a.loading;return d!==e.e&&(l.icon=e.e=d),f!==e.t&&l.classList.toggle("spin",e.t=f),e},{e:void 0,t:void 0}),t})()};q("quote-box",null,N);w(["click"]);

//# debugId=C7080C691AD4F2C164756E2164756E21
