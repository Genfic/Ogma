{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\src-solid\\quote-box.ts.tsx"],
  "sourcesContent": [
    "import { template as _$template } from \"solid-js/web\";\nimport { delegateEvents as _$delegateEvents } from \"solid-js/web\";\nimport { className as _$className } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { insert as _$insert } from \"solid-js/web\";\nimport { getOwner as _$getOwner } from \"solid-js/web\";\nimport { addEventListener as _$addEventListener } from \"solid-js/web\";\nvar _tmpl$ = /*#__PURE__*/_$template(`<em class=body>`),\n  _tmpl$2 = /*#__PURE__*/_$template(`<span class=author>`),\n  _tmpl$3 = /*#__PURE__*/_$template(`<div id=quote class=\"quote active-border\"><button type=button class=refresh><o-icon>`, true, false, false),\n  _tmpl$4 = /*#__PURE__*/_$template(`<span>Loading the quote...`);\nimport { GetApiQuotesRandom as getQuote } from \"@g/paths-public\";\nimport { customElement, noShadowDOM } from \"solid-element\";\nimport { Show, createResource, createSignal, onMount } from \"solid-js\";\nconst QuoteBox = (_, {\n  element\n}) => {\n  noShadowDOM();\n  onMount(() => {\n    element.classList.add(\"wc-loaded\");\n  });\n  const [canLoad, setCanLoad] = createSignal(true);\n  const loadQuote = async () => {\n    if (!canLoad()) {\n      return JSON.parse(window.localStorage.getItem(\"quote\"));\n    }\n    setCanLoad(false);\n    const response = await getQuote();\n    setTimeout(() => {\n      setCanLoad(true);\n    }, Number.parseInt(response.headers.get(\"retry-after\")) * 1000);\n    if (response.ok) {\n      window.localStorage.setItem(\"quote\", JSON.stringify(response.data));\n      return response.data;\n    }\n    if (response.status === 429) {\n      return JSON.parse(window.localStorage.getItem(\"quote\"));\n    }\n  };\n  const [quote, {\n    refetch\n  }] = createResource(() => loadQuote(), {});\n  const spinnerIcon = () => canLoad() ? \"lucide:refresh-cw\" : \"lucide:clock\";\n  return () => (() => {\n    var _el$ = _tmpl$3(),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.firstChild;\n    _$addEventListener(_el$2, \"click\", refetch, true);\n    _el$3._$owner = _$getOwner();\n    _$insert(_el$, _$createComponent(Show, {\n      get when() {\n        return quote();\n      },\n      get fallback() {\n        return _tmpl$4();\n      },\n      get children() {\n        return [(() => {\n          var _el$4 = _tmpl$();\n          _$insert(_el$4, () => quote().body);\n          return _el$4;\n        })(), (() => {\n          var _el$5 = _tmpl$2();\n          _$insert(_el$5, () => quote().author);\n          return _el$5;\n        })()];\n      }\n    }), null);\n    _$effect(_p$ => {\n      var _v$ = spinnerIcon(),\n        _v$2 = `material-icons-outlined ${quote.loading ? \"spin\" : \"\"}`;\n      _v$ !== _p$.e && (_el$3.icon = _p$.e = _v$);\n      _v$2 !== _p$.t && _$className(_el$3, _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: undefined,\n      t: undefined\n    });\n    return _el$;\n  })();\n};\ncustomElement(\"quote-box\", null, QuoteBox);\n_$delegateEvents([\"click\"]);"
  ],
  "mappings": "iLAQA,FAAI,EAAsB,EAAW,iBAAiB,EACpD,EAAuB,EAAW,qBAAqB,EACvD,EAAuB,EAAW,uFAAwF,GAAM,GAAO,EAAK,EAC5I,EAAuB,EAAW,4BAA4B,EAI1D,EAAW,CAAC,GAChB,aACI,CACJ,EAAY,EACZ,EAAQ,IAAM,CACZ,EAAQ,UAAU,IAAI,WAAW,EAClC,EACD,IAAO,EAAS,GAAc,EAAa,EAAI,EACzC,EAAY,SAAY,CAC5B,IAAK,EAAQ,EACX,OAAO,KAAK,MAAM,OAAO,aAAa,QAAQ,OAAO,CAAC,EAExD,EAAW,EAAK,EAChB,IAAM,EAAW,MAAM,EAAS,EAIhC,GAHA,WAAW,IAAM,CACf,EAAW,EAAI,GACd,OAAO,SAAS,EAAS,QAAQ,IAAI,aAAa,CAAC,EAAI,IAAI,EAC1D,EAAS,GAEX,OADA,OAAO,aAAa,QAAQ,QAAS,KAAK,UAAU,EAAS,IAAI,CAAC,EAC3D,EAAS,KAElB,GAAI,EAAS,SAAW,IACtB,OAAO,KAAK,MAAM,OAAO,aAAa,QAAQ,OAAO,CAAC,IAGnD,GACL,YACG,EAAe,IAAM,EAAU,EAAG,CAAC,CAAC,EACnC,EAAc,IAAM,EAAQ,EAAI,oBAAsB,eAC5D,MAAO,KAAO,IAAM,CAClB,IAAI,EAAO,EAAQ,EACjB,EAAQ,EAAK,WACb,EAAQ,EAAM,WAgChB,OA/BA,EAAmB,EAAO,QAAS,EAAS,EAAI,EAChD,EAAM,QAAU,EAAW,EAC3B,EAAS,EAAM,EAAkB,EAAM,IACjC,KAAI,EAAG,CACT,OAAO,EAAM,MAEX,SAAQ,EAAG,CACb,OAAO,EAAQ,MAEb,SAAQ,EAAG,CACb,MAAO,EAAE,IAAM,CACb,IAAI,EAAQ,EAAO,EAEnB,OADA,EAAS,EAAO,IAAM,EAAM,EAAE,IAAI,EAC3B,IACN,GAAI,IAAM,CACX,IAAI,EAAQ,EAAQ,EAEpB,OADA,EAAS,EAAO,IAAM,EAAM,EAAE,MAAM,EAC7B,IACN,CAAC,EAER,CAAC,EAAG,IAAI,EACR,EAAS,KAAO,CACd,IAAI,EAAM,EAAY,EACpB,EAAO,2BAA2B,EAAM,QAAU,OAAS,KAG7D,OAFA,IAAQ,EAAI,IAAM,EAAM,KAAO,EAAI,EAAI,GACvC,IAAS,EAAI,GAAK,EAAY,EAAO,EAAI,EAAI,CAAI,EAC1C,GACN,CACD,EAAG,OACH,EAAG,MACL,CAAC,EACM,IACN,GAEL,EAAc,YAAa,KAAM,CAAQ,EACzC,EAAiB,CAAC,OAAO,CAAC",
  "debugId": "386C7D6E089F5D4A64756E2164756E21",
  "names": []
}