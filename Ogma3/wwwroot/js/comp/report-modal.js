import{v as S}from"./chunk-gma6eqe0.js";import"./chunk-qtq4kp2t.js";import{$ as b,F as G,G as R,J as j,M as Q,P as U,S as X,T as g,V as W,Z as z,aa as h}from"./chunk-59rmnzyw.js";var t=X("<span>Reason must be between <!> and <!> characters long."),p=X('<div class="club-folder-selector my-modal"><div class=content><div class=header><span>Report</span></div><form class=form><div class=o-form-group><label for=reason>Reason</label><textarea name=reason id=reason class="o-form-control active-border"rows=5></textarea><div><div class=o-progress-bar></div><span>/<!> chars</span></div></div><div class=o-form-group><button type=submit>'),$=(A,{element:w})=>{b();let B={min:50,max:500},[v,Y]=G(!1),[Z,d]=G(0),[H,u]=G(""),[c,m]=G(null);j(()=>{if(A.openSelector){let q=document.querySelector(A.openSelector);if(q)q.addEventListener("click",D);else console.log(`Element is ${q} for selector ${A.openSelector}`)}});let D=()=>{Y(!0)},O=()=>H()&&H().length>=B.min&&H().length<=B.max,T=()=>{switch(c()){case!0:return{msg:"Report delivered!",cls:"green"};case!1:return{msg:"An error has occurred. Retry?",cls:"red"};default:return{msg:"Send report",cls:null}}},i=async(q)=>{q.preventDefault();let y=await S({itemId:A.itemId,reason:H(),itemType:A.itemType},{RequestVerificationToken:A.csrf});m(y.ok)},n=(q)=>{let y=q.currentTarget.value;u(y),d(y.length)};return Object.assign(w,{show:D}),()=>Q(U,{get when(){return v()},get children(){var q=p(),y=q.firstChild,a=y.firstChild,f=a.nextSibling,K=f.firstChild,r=K.firstChild,x=r.nextSibling,N=x.nextSibling,L=N.firstChild,P=L.nextSibling,V=P.firstChild,C=V.nextSibling,s=C.nextSibling,o=K.nextSibling,E=o.firstChild;return q.$$click=()=>Y(!1),y.$$click=(k)=>k.stopPropagation(),f.addEventListener("submit",i),x.$$input=n,z(P,Z,V),z(P,()=>B.max,C),z(K,Q(U,{get when(){return!O()},get children(){var k=t(),I=k.firstChild,F=I.nextSibling,J=F.nextSibling,M=J.nextSibling,l=M.nextSibling;return z(k,()=>B.min,F),z(k,()=>B.max,M),k}}),null),z(E,()=>T().msg),R((k)=>{var I=`counter ${O()?"":"invalid"}`,F=`${Math.min(100,100*(Z()/B.max))}%`,J=`btn ${T().cls}`;return I!==k.e&&W(N,k.e=I),F!==k.t&&((k.t=F)!=null?L.style.setProperty("width",F):L.style.removeProperty("width")),J!==k.a&&W(E,k.a=J),k},{e:void 0,t:void 0,a:void 0}),q}})};h("report-modal",{openSelector:"",csrf:"",itemId:0,itemType:""},$);g(["click","input"]);

//# debugId=7214D78288E7F59B64756E2164756E21
