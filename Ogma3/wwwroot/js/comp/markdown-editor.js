import{D as E}from"./chunk-a3t9d2sb.js";import{F as x,K as h,L as s,N as $,R as m,S as v,T as g,Y as l,_ as b}from"./chunk-qcet3yp8.js";var f=".toolbar{gap:1px;display:flex}.btn{cursor:pointer;color:var(--accent);border:1px solid var(--foreground-25);background-color:#0000;justify-content:center;align-items:center;padding:.5rem;display:flex;& o-icon::part(icon){width:20px;height:20px}&:hover{border-color:var(--foreground-50)}&:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-25)}}";var p=({text:e})=>{return document.createComment(e)};var A=m("<nav class=toolbar>"),T=m("<button type=button class=btn><o-icon class=material-icons-outlined>",!0,!1,!1),C=[{name:"bold",icon:"lucide:bold",prefix:"**",suffix:"**"},{name:"italic",icon:"lucide:italic",prefix:"*",suffix:"*"},{name:"strikethrough",icon:"lucide:strikethrough",prefix:"~~",suffix:"~~"},{name:"link",icon:"lucide:link",prefix:"[",suffix:"](url)"},{name:"spoiler",icon:"lucide:eye-closed",prefix:"||",suffix:"||"}],k="markdown-editor",S=(e)=>typeof e==="object"&&("nodeName"in e)&&(e.nodeName==="TEXTAREA"||e.nodeName==="INPUT"),O=({selector:e,overrideSelector:w})=>{let d=w?e:`${k} + ${e}`,t=document.querySelector(d);if(!t)throw Error(`Element "${e}" not found`);if(!S(t))throw Error(`Element "${e}" is not a textarea or input`);let _=({prefix:r,suffix:c})=>{let{selectionStart:o,selectionEnd:i}=t,n=t.value.substring(o,i),a=`${r}${n}${c}`;t.setRangeText(a,o,i,"preserve"),t.selectionStart=o+r.length,t.selectionEnd=i+r.length,t.focus(),t.dispatchEvent(new Event("input"))};return(()=>{var r=A();return l(r,s(p,{text:d}),null),l(r,s($,{each:C,children:(c)=>(()=>{var o=T(),i=o.firstChild;return o.$$click=_,o.$$clickData=c,i._$owner=h(),x((n)=>{var{name:a,icon:u}=c;return a!==n.e&&g(o,"title",n.e=a),u!==n.t&&(i.icon=n.t=u),n},{e:void 0,t:void 0}),o})()}),null),r})()};b(k,{selector:"textarea",overrideSelector:!1},E(f)(O));v(["click"]);export{O as MarkdownEditor};

//# debugId=D322BE503B23A44164756E2164756E21
