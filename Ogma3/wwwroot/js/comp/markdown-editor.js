import{a as _}from"./chunk-kfd0zr41.js";import{E}from"./chunk-00zgqh9m.js";import{G as x,L as $,M as s,O as h,S as l,T as v,U as b,Z as m,aa as g}from"./chunk-59rmnzyw.js";var u=".toolbar{gap:1px;display:flex}.btn{color:var(--accent);padding:.5rem}.btn .icon::part(icon){width:20px;height:20px}";var d=({text:e})=>{return document.createComment(e)};var T=l("<nav class=toolbar>"),S=l('<button type=button class="btn action-btn"><o-icon class=icon>',!0,!1,!1),y=[{name:"bold",icon:"lucide:bold",prefix:"**",suffix:"**"},{name:"italic",icon:"lucide:italic",prefix:"*",suffix:"*"},{name:"strikethrough",icon:"lucide:strikethrough",prefix:"~~",suffix:"~~"},{name:"link",icon:"lucide:link",prefix:"[",suffix:"](url)"},{name:"spoiler",icon:"lucide:eye-closed",prefix:"||",suffix:"||"}],k="markdown-editor",O=(e)=>typeof e==="object"&&("nodeName"in e)&&(e.nodeName==="TEXTAREA"||e.nodeName==="INPUT"),M=({selector:e,overrideSelector:w})=>{let f=w?e:`${k} + ${e}`,t=document.querySelector(f);if(!t)throw Error(`Element "${e}" not found`);if(!O(t))throw Error(`Element "${e}" is not a textarea or input`);let A=({prefix:n,suffix:a})=>{let{selectionStart:o,selectionEnd:i}=t,r=t.value.substring(o,i),c=`${n}${r}${a}`;t.setRangeText(c,o,i,"preserve"),t.selectionStart=o+n.length,t.selectionEnd=i+n.length,t.focus(),t.dispatchEvent(new Event("input"))};return(()=>{var n=T();return m(n,s(d,{text:f}),null),m(n,s(h,{each:y,children:(a)=>(()=>{var o=S(),i=o.firstChild;return o.$$click=A,o.$$clickData=a,i._$owner=$(),x((r)=>{var{name:c,icon:p}=a;return c!==r.e&&b(o,"title",r.e=c),p!==r.t&&(i.icon=r.t=p),r},{e:void 0,t:void 0}),o})()}),null),n})()};g(k,{selector:"textarea",overrideSelector:!1},E(M,_,u));v(["click"]);export{M as MarkdownEditor};

//# debugId=F9C2DC8E69A6147E64756E2164756E21
