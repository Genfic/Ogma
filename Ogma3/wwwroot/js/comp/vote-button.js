import{e as $}from"./chunk-5k1k13kq.js";import{j as v,r as g,y as p}from"./chunk-k4ry6v6w.js";import"./chunk-s8q2er36.js";import{D as y}from"./chunk-a3t9d2sb.js";import{F as c,H as d,K as m,R as l,S as f,Y as u,_ as b}from"./chunk-qcet3yp8.js";var i=".votes{cursor:pointer;background-color:var(--background-75);color:var(--foreground-75);border:1px solid var(--foreground-25);justify-content:center;align-items:center;margin-right:.1rem;padding:.5rem;display:flex;&:focus{border:1px solid var(--accent-50);border-color:var(--accent)}&:hover{background-color:var(--accent-10);border-color:var(--foreground-50);color:var(--foreground);text-decoration:none}&.active{& ::part(icon){color:var(--gold);animation:.2s ease-in-out spin}}}@keyframes spin{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(360deg)}}";var w=l('<button type=button class=votes title="Give it a star!"><o-icon></o-icon><span class=count>',!0,!1,!1),h=(s)=>{let[r,{mutate:V}]=d(()=>s.storyId,async(e)=>{return(await g(e)).data}),_=async()=>{let t=await(r().didVote?v:p)({storyId:s.storyId},{RequestVerificationToken:s.csrf});if(t.ok)V(t.data);else $.error(`Error fetching data: ${t.statusText}`)};return()=>(()=>{var e=w(),t=e.firstChild,k=t.nextSibling;return e.$$click=_,t._$owner=m(),u(k,()=>r()?.count??0),c((o)=>{var a=!!r()?.didVote,n=r()?.didVote?"ic:round-star":"ic:round-star-border";return a!==o.e&&e.classList.toggle("active",o.e=a),n!==o.t&&(t.icon=o.t=n),o},{e:void 0,t:void 0}),e})()};b("o-vote",{storyId:0,csrf:""},y(i)(h));f(["click"]);

//# debugId=D58AA0F94DE53D2464756E2164756E21
