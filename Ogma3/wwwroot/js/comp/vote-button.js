import{a as _}from"./chunk-kfd0zr41.js";import{f as $}from"./chunk-rtz3801n.js";import{k as p,s as v,z as g}from"./chunk-gma6eqe0.js";import"./chunk-qtq4kp2t.js";import{E as y}from"./chunk-00zgqh9m.js";import{G as m,I as c,L as d,S as f,T as l,Z as u,aa as V}from"./chunk-59rmnzyw.js";var n=".votes{padding:.5rem}.votes.active ::part(icon){color:var(--gold);animation:.2s ease-in-out spin}@keyframes spin{0%{transform:rotate(0)}50%{transform:rotate(180deg)}to{transform:rotate(360deg)}}";var I=f('<button type=button class="votes action-btn"title="Give it a star!"><o-icon></o-icon><span class=count>',!0,!1,!1),h=(s)=>{let[r,{mutate:b}]=c(()=>s.storyId,async(e)=>{return(await v(e)).data}),k=async()=>{let t=await(r().didVote?p:g)({storyId:s.storyId},{RequestVerificationToken:s.csrf});if(t.ok)b(t.data);else $.error(`Error fetching data: ${t.statusText}`)};return()=>(()=>{var e=I(),t=e.firstChild,w=t.nextSibling;return e.$$click=k,t._$owner=d(),u(w,()=>r()?.count??0),m((o)=>{var a=!!r()?.didVote,i=r()?.didVote?"ic:round-star":"ic:round-star-border";return a!==o.e&&e.classList.toggle("active",o.e=a),i!==o.t&&(t.icon=o.t=i),o},{e:void 0,t:void 0}),e})()};V("o-vote",{storyId:0,csrf:""},y(h,_,n));l(["click"]);

//# debugId=D59B40F8167A471664756E2164756E21
