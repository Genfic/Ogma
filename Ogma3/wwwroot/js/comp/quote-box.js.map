{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\src-helpers\\localStorageHook.ts", "..\\..\\..\\FrontendCode\\typescript\\src-solid\\quote-box.tsx"],
  "sourcesContent": [
    "type LocalStorageHook<TData> = [get: () => TData | null, set: (data: TData) => void, remove: () => void];\r\n\r\nexport const useLocalStorage = <TData>(key: string): LocalStorageHook<TData> => [\r\n\t() => JSON.parse(localStorage.getItem(key)) as TData | null,\r\n\t(data: TData) => localStorage.setItem(key, JSON.stringify(data)),\r\n\t() => localStorage.removeItem(key),\r\n];\r\n",
    "import { template as _$template } from \"solid-js/web\";\nimport { delegateEvents as _$delegateEvents } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nimport { createComponent as _$createComponent } from \"solid-js/web\";\nimport { insert as _$insert } from \"solid-js/web\";\nimport { getOwner as _$getOwner } from \"solid-js/web\";\nimport { addEventListener as _$addEventListener } from \"solid-js/web\";\nvar _tmpl$ = /*#__PURE__*/_$template(`<em class=body>`),\n  _tmpl$2 = /*#__PURE__*/_$template(`<span class=author>`),\n  _tmpl$3 = /*#__PURE__*/_$template(`<div id=quote class=\"quote active-border\"><button type=button class=refresh><o-icon class=material-icons-outlined>`, true, false, false),\n  _tmpl$4 = /*#__PURE__*/_$template(`<span>Loading the quote...`);\nimport { GetApiQuotesRandom as getQuote } from \"@g/paths-public\";\nimport { customElement } from \"solid-element\";\nimport { Show, createResource, createSignal } from \"solid-js\";\nimport { useLocalStorage } from \"@h/localStorageHook\";\nimport css from \"./quote-box.css\";\nimport { Styled } from \"./common/_styled\";\nconst QuoteBox = _ => {\n  const [canLoad, setCanLoad] = createSignal(true);\n  const [getQuoteFromStore, setQuoteInStore] = useLocalStorage(\"quote\");\n  const loadQuote = async () => {\n    if (!canLoad()) {\n      return getQuoteFromStore();\n    }\n    setCanLoad(false);\n    const response = await getQuote();\n    setTimeout(() => {\n      setCanLoad(true);\n    }, Number.parseInt(response.headers.get(\"retry-after\")) * 1000);\n    if (response.status === 429) {\n      return getQuoteFromStore();\n    }\n    if (response.ok) {\n      setQuoteInStore(response.data);\n      return response.data;\n    }\n  };\n  const [quote, {\n    refetch\n  }] = createResource(loadQuote);\n  const spinnerIcon = () => canLoad() ? \"lucide:refresh-cw\" : \"lucide:clock\";\n  return () => (() => {\n    var _el$ = _tmpl$3(),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.firstChild;\n    _$addEventListener(_el$2, \"click\", refetch, true);\n    _el$3._$owner = _$getOwner();\n    _$insert(_el$, _$createComponent(Show, {\n      get when() {\n        return quote();\n      },\n      get fallback() {\n        return _tmpl$4();\n      },\n      get children() {\n        return [(() => {\n          var _el$4 = _tmpl$();\n          _$insert(_el$4, () => quote().body);\n          return _el$4;\n        })(), (() => {\n          var _el$5 = _tmpl$2();\n          _$insert(_el$5, () => quote().author);\n          return _el$5;\n        })()];\n      }\n    }), null);\n    _$effect(_p$ => {\n      var _v$ = spinnerIcon(),\n        _v$2 = !!quote.loading;\n      _v$ !== _p$.e && (_el$3.icon = _p$.e = _v$);\n      _v$2 !== _p$.t && _el$3.classList.toggle(\"spin\", _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: undefined,\n      t: undefined\n    });\n    return _el$;\n  })();\n};\ncustomElement(\"quote-box\", {}, Styled(QuoteBox, css));\n_$delegateEvents([\"click\"]);"
  ],
  "mappings": "8OAEO,FAAM,JAAkB,LAAQ,IAAyC,CAC/E,IAAM,KAAK,MAAM,aAAa,QAAQ,CAAG,CAAC,EAC1C,CAAC,IAAgB,aAAa,QAAQ,EAAK,KAAK,UAAU,CAAI,CAAC,EAC/D,IAAM,aAAa,WAAW,CAAG,CAClC,+GCCA,IAAI,EAAsB,EAAW,iBAAiB,EACpD,EAAuB,EAAW,qBAAqB,EACvD,EAAuB,EAAW,qHAAsH,GAAM,GAAO,EAAK,EAC1K,EAAuB,EAAW,4BAA4B,EAO1D,EAAW,KAAK,CACpB,IAAO,EAAS,GAAc,EAAa,EAAI,GACxC,EAAmB,GAAmB,EAAgB,OAAO,EAC9D,EAAY,SAAY,CAC5B,IAAK,EAAQ,EACX,OAAO,EAAkB,EAE3B,EAAW,EAAK,EAChB,IAAM,EAAW,MAAM,EAAS,EAIhC,GAHA,WAAW,IAAM,CACf,EAAW,EAAI,GACd,OAAO,SAAS,EAAS,QAAQ,IAAI,aAAa,CAAC,EAAI,IAAI,EAC1D,EAAS,SAAW,IACtB,OAAO,EAAkB,EAE3B,GAAI,EAAS,GAEX,OADA,EAAgB,EAAS,IAAI,EACtB,EAAS,OAGb,GACL,YACG,EAAe,CAAS,EACvB,EAAc,IAAM,EAAQ,EAAI,oBAAsB,eAC5D,MAAO,KAAO,IAAM,CAClB,IAAI,EAAO,EAAQ,EACjB,EAAQ,EAAK,WACb,EAAQ,EAAM,WAgChB,OA/BA,EAAmB,EAAO,QAAS,EAAS,EAAI,EAChD,EAAM,QAAU,EAAW,EAC3B,EAAS,EAAM,EAAkB,EAAM,IACjC,KAAI,EAAG,CACT,OAAO,EAAM,MAEX,SAAQ,EAAG,CACb,OAAO,EAAQ,MAEb,SAAQ,EAAG,CACb,MAAO,EAAE,IAAM,CACb,IAAI,EAAQ,EAAO,EAEnB,OADA,EAAS,EAAO,IAAM,EAAM,EAAE,IAAI,EAC3B,IACN,GAAI,IAAM,CACX,IAAI,EAAQ,EAAQ,EAEpB,OADA,EAAS,EAAO,IAAM,EAAM,EAAE,MAAM,EAC7B,IACN,CAAC,EAER,CAAC,EAAG,IAAI,EACR,EAAS,KAAO,CACd,IAAI,EAAM,EAAY,EACpB,IAAS,EAAM,QAGjB,OAFA,IAAQ,EAAI,IAAM,EAAM,KAAO,EAAI,EAAI,GACvC,IAAS,EAAI,GAAK,EAAM,UAAU,OAAO,OAAQ,EAAI,EAAI,CAAI,EACtD,GACN,CACD,EAAG,OACH,EAAG,MACL,CAAC,EACM,IACN,GAEL,EAAc,YAAa,CAAC,EAAG,EAAO,EAAU,CAAG,CAAC,EACpD,EAAiB,CAAC,OAAO,CAAC",
  "debugId": "54F173EEBDA4FF2164756E2164756E21",
  "names": []
}