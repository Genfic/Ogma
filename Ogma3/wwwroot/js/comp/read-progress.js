import{H}from"./chunk-584t0j1k.js";import{I as s,J as g,N as h,O as v,X as E,fa as P}from"./chunk-c15tkzxp.js";function p(r,t,e){if(t===e)return t;return(r-t)/(e-t)}function a(r,t=0,e=1){if(e<t)throw`Max (${e}) cannot be less than min (${t})`;if(r<t)return t;if(r>e)return e;return r}var w=":host{position:sticky;inset:auto 0 0}.bar{background-color:var(--accent);height:3px;transition:width 50ms ease-out;position:relative}";var B=E("<div class=bar>"),S=(r,{element:t})=>{let[e,k]=s(0),[y,c]=s(!1),[z,L]=s(!1),n=()=>{let o=t.parentElement,R=o.getBoundingClientRect().bottom-window.innerHeight,_=o.offsetTop+o.offsetHeight,$=Math.max(_-window.innerHeight,0),f=1-a(p(R,0,$));if(k(f),f>=1&&!z())L(!0),t.dispatchEvent(new CustomEvent("read"))},l=()=>{if(!y())window.requestAnimationFrame(()=>{n(),c(!1)}),c(!0)},d=()=>n();return h(()=>{document.addEventListener("scroll",l),window.addEventListener("resize",d),n()}),v(()=>{document.removeEventListener("scroll",l),window.removeEventListener("resize",d)}),(()=>{var o=B();return g((i)=>(i=`${e()*100}%`)!=null?o.style.setProperty("width",i):o.style.removeProperty("width")),o})()};P("o-read-progress",{},H(S,w));

//# debugId=A670D960E0E9360764756E2164756E21
