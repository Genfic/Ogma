import{f as H}from"./chunk-8y77prr0.js";import{G as r,H as g,K as h,L as v,T as E,aa as P}from"./chunk-3v8fzpj7.js";function p(s,t,e){if(t===e)return t;return(s-t)/(e-t)}function a(s,t=0,e=1){if(e<t)throw`Max (${e}) cannot be less than min (${t})`;if(s<t)return t;if(s>e)return e;return s}var w=":host{position:sticky;inset:auto 0 0}.bar{background-color:var(--accent);height:3px;transition:width 50ms ease-out;position:relative}";var B=E("<div class=bar>"),C=(s,{element:t})=>{let[e,k]=r(0),[u,c]=r(!1),[y,z]=r(!1),n=()=>{let o=t.parentElement,L=o.getBoundingClientRect().bottom-window.innerHeight,R=o.offsetTop+o.offsetHeight,_=Math.max(R-window.innerHeight,0),f=1-a(p(L,0,_));if(k(f),f>=1&&!y())z(!0),t.dispatchEvent(new CustomEvent("read"))},l=()=>{if(!u())window.requestAnimationFrame(()=>{n(),c(!1)}),c(!0)},d=()=>n();return h(()=>{document.addEventListener("scroll",l),window.addEventListener("resize",d),n()}),v(()=>{document.removeEventListener("scroll",l),window.removeEventListener("resize",d)}),(()=>{var o=B();return g((i)=>(i=`${e()*100}%`)!=null?o.style.setProperty("width",i):o.style.removeProperty("width")),o})()};P("o-read-progress",null,H(w)(C));

//# debugId=C1C0559A7F4FC71C64756E2164756E21
