import{D as H}from"./chunk-efg6c9mn.js";import{E as s,F as g,I as h,J as v,R as E,_ as P}from"./chunk-qcet3yp8.js";function p(r,t,e){if(t===e)return t;return(r-t)/(e-t)}function a(r,t=0,e=1){if(e<t)throw`Max (${e}) cannot be less than min (${t})`;if(r<t)return t;if(r>e)return e;return r}var w=":host{position:sticky;inset:auto 0 0}.bar{background-color:var(--accent);height:3px;transition:width 50ms ease-out;position:relative}";var B=E("<div class=bar>"),S=(r,{element:t})=>{let[e,k]=s(0),[u,c]=s(!1),[y,z]=s(!1),n=()=>{let o=t.parentElement,L=o.getBoundingClientRect().bottom-window.innerHeight,R=o.offsetTop+o.offsetHeight,_=Math.max(R-window.innerHeight,0),f=1-a(p(L,0,_));if(k(f),f>=1&&!y())z(!0),t.dispatchEvent(new CustomEvent("read"))},l=()=>{if(!u())window.requestAnimationFrame(()=>{n(),c(!1)}),c(!0)},d=()=>n();return h(()=>{document.addEventListener("scroll",l),window.addEventListener("resize",d),n()}),v(()=>{document.removeEventListener("scroll",l),window.removeEventListener("resize",d)}),(()=>{var o=B();return g((i)=>(i=`${e()*100}%`)!=null?o.style.setProperty("width",i):o.style.removeProperty("width")),o})()};P("o-read-progress",null,H(S,w));

//# debugId=7980C5C83C3E926364756E2164756E21
