import{a as y}from"./chunk-6jawyp53.js";import{A as g,B as h,G as v,O as E,w as r,x as w}from"./chunk-1dj32eyg.js";function a(s,t,e){if(t===e)return t;return(s-t)/(e-t)}function p(s,t=0,e=1){if(e<t)throw`Max (${e}) cannot be less than min (${t})`;if(s<t)return t;if(s>e)return e;return s}var R=v("<div class=bar>"),_=(s,{element:t})=>{let[e,P]=r(0),[H,c]=r(!1),[k,u]=r(!1),i=()=>{let o=t.parentElement,z=o.getBoundingClientRect().bottom-window.innerHeight,C=o.offsetTop+o.offsetHeight,L=Math.max(C-window.innerHeight,0),f=1-p(a(z,0,L));if(P(f),f>=1&&!k())u(!0),t.dispatchEvent(new CustomEvent("read"))},l=()=>{if(!H())window.requestAnimationFrame(()=>{i(),c(!1)}),c(!0)},d=()=>i();return g(()=>{y(t,":host{position:sticky;inset:auto 0 0}.bar{background-color:var(--accent);height:3px;transition:width 50ms ease-out;position:relative}"),document.addEventListener("scroll",l),window.addEventListener("resize",d),i()}),h(()=>{document.removeEventListener("scroll",l),window.removeEventListener("resize",d)}),(()=>{var o=R();return w((n)=>(n=`${e()*100}%`)!=null?o.style.setProperty("width",n):o.style.removeProperty("width")),o})()};E("o-read-progress",null,_);

//# debugId=E8117473845BFC4164756E2164756E21
