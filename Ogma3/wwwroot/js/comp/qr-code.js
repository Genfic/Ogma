import{B as p,K as y,S as l,T as u,x as c,y as x}from"./chunk-a53ywpea.js";var n=new DOMParser,T=($)=>{return n.parseFromString($,"text/html").body.firstElementChild};var I=(($)=>{return $[$.Border=-1]="Border",$[$.Data=0]="Data",$[$.Function=1]="Function",$[$.Position=2]="Position",$[$.Timing=3]="Timing",$[$.Alignment=4]="Alignment",$})(I||{}),a=Object.defineProperty,s=($,J,f)=>(J in $)?a($,J,{enumerable:!0,configurable:!0,writable:!0,value:f}):$[J]=f,P=($,J,f)=>{return s($,typeof J!=="symbol"?J+"":J,f),f},o=[0,1],B=[1,0],N=[2,3],E=[3,2],i={L:o,M:B,Q:N,H:E},r=/^[0-9]*$/,t=/^[A-Z0-9 $%*+.\/:-]*$/,S="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Q=1,H=40,w=3,e=3,j=40,$$=10,R=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],D=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class v{constructor($,J,f,Z){if(this.version=$,this.ecc=J,P(this,"size"),P(this,"mask"),P(this,"modules",[]),P(this,"types",[]),$<Q||$>H)throw new RangeError("Version value out of range");if(Z<-1||Z>7)throw new RangeError("Mask value out of range");this.size=$*4+17;let F=Array.from({length:this.size},()=>!1);for(let W=0;W<this.size;W++)this.modules.push(F.slice()),this.types.push(F.map(()=>0));this.drawFunctionPatterns();let q=this.addEccAndInterleave(f);if(this.drawCodewords(q),Z===-1){let W=1e9;for(let X=0;X<8;X++){this.applyMask(X),this.drawFormatBits(X);let G=this.getPenaltyScore();if(G<W)Z=X,W=G;this.applyMask(X)}}this.mask=Z,this.applyMask(Z),this.drawFormatBits(Z)}getModule($,J){return $>=0&&$<this.size&&J>=0&&J<this.size&&this.modules[J][$]}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2===0,I.Timing),this.setFunctionModule(f,6,f%2===0,I.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let $=this.getAlignmentPatternPositions(),J=$.length;for(let f=0;f<J;f++)for(let Z=0;Z<J;Z++)if(!(f===0&&Z===0||f===0&&Z===J-1||f===J-1&&Z===0))this.drawAlignmentPattern($[f],$[Z]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits($){let J=this.ecc[1]<<3|$,f=J;for(let F=0;F<10;F++)f=f<<1^(f>>>9)*1335;let Z=(J<<10|f)^21522;for(let F=0;F<=5;F++)this.setFunctionModule(8,F,V(Z,F));this.setFunctionModule(8,7,V(Z,6)),this.setFunctionModule(8,8,V(Z,7)),this.setFunctionModule(7,8,V(Z,8));for(let F=9;F<15;F++)this.setFunctionModule(14-F,8,V(Z,F));for(let F=0;F<8;F++)this.setFunctionModule(this.size-1-F,8,V(Z,F));for(let F=8;F<15;F++)this.setFunctionModule(8,this.size-15+F,V(Z,F));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let $=this.version;for(let f=0;f<12;f++)$=$<<1^($>>>11)*7973;let J=this.version<<12|$;for(let f=0;f<18;f++){let Z=V(J,f),F=this.size-11+f%3,q=Math.floor(f/3);this.setFunctionModule(F,q,Z),this.setFunctionModule(q,F,Z)}}drawFinderPattern($,J){for(let f=-4;f<=4;f++)for(let Z=-4;Z<=4;Z++){let F=Math.max(Math.abs(Z),Math.abs(f)),q=$+Z,W=J+f;if(q>=0&&q<this.size&&W>=0&&W<this.size)this.setFunctionModule(q,W,F!==2&&F!==4,I.Position)}}drawAlignmentPattern($,J){for(let f=-2;f<=2;f++)for(let Z=-2;Z<=2;Z++)this.setFunctionModule($+Z,J+f,Math.max(Math.abs(Z),Math.abs(f))!==1,I.Alignment)}setFunctionModule($,J,f,Z=I.Function){this.modules[J][$]=f,this.types[J][$]=Z}addEccAndInterleave($){let J=this.version,f=this.ecc;if($.length!==h(J,f))throw new RangeError("Invalid argument");let Z=D[f[0]][J],F=R[f[0]][J],q=Math.floor(A(J)/8),W=Z-q%Z,X=Math.floor(q/Z),G=[],U=X$(F);for(let K=0,Y=0;K<Z;K++){let O=$.slice(Y,Y+X-F+(K<W?0:1));Y+=O.length;let d=Y$(O,U);if(K<W)O.push(0);G.push(O.concat(d))}let z=[];for(let K=0;K<G[0].length;K++)G.forEach((Y,O)=>{if(K!==X-F||O>=W)z.push(Y[K])});return z}drawCodewords($){if($.length!==Math.floor(A(this.version)/8))throw new RangeError("Invalid argument");let J=0;for(let f=this.size-1;f>=1;f-=2){if(f===6)f=5;for(let Z=0;Z<this.size;Z++)for(let F=0;F<2;F++){let q=f-F,X=(f+1&2)===0?this.size-1-Z:Z;if(!this.types[X][q]&&J<$.length*8)this.modules[X][q]=V($[J>>>3],7-(J&7)),J++}}}applyMask($){if($<0||$>7)throw new RangeError("Mask value out of range");for(let J=0;J<this.size;J++)for(let f=0;f<this.size;f++){let Z;switch($){case 0:Z=(f+J)%2===0;break;case 1:Z=J%2===0;break;case 2:Z=f%3===0;break;case 3:Z=(f+J)%3===0;break;case 4:Z=(Math.floor(f/3)+Math.floor(J/2))%2===0;break;case 5:Z=f*J%2+f*J%3===0;break;case 6:Z=(f*J%2+f*J%3)%2===0;break;case 7:Z=((f+J)%2+f*J%3)%2===0;break;default:throw new Error("Unreachable")}if(!this.types[J][f]&&Z)this.modules[J][f]=!this.modules[J][f]}}getPenaltyScore(){let $=0;for(let F=0;F<this.size;F++){let q=!1,W=0,X=[0,0,0,0,0,0,0];for(let G=0;G<this.size;G++)if(this.modules[F][G]===q){if(W++,W===5)$+=w;else if(W>5)$++}else{if(this.finderPenaltyAddHistory(W,X),!q)$+=this.finderPenaltyCountPatterns(X)*j;q=this.modules[F][G],W=1}$+=this.finderPenaltyTerminateAndCount(q,W,X)*j}for(let F=0;F<this.size;F++){let q=!1,W=0,X=[0,0,0,0,0,0,0];for(let G=0;G<this.size;G++)if(this.modules[G][F]===q){if(W++,W===5)$+=w;else if(W>5)$++}else{if(this.finderPenaltyAddHistory(W,X),!q)$+=this.finderPenaltyCountPatterns(X)*j;q=this.modules[G][F],W=1}$+=this.finderPenaltyTerminateAndCount(q,W,X)*j}for(let F=0;F<this.size-1;F++)for(let q=0;q<this.size-1;q++){let W=this.modules[F][q];if(W===this.modules[F][q+1]&&W===this.modules[F+1][q]&&W===this.modules[F+1][q+1])$+=e}let J=0;for(let F of this.modules)J=F.reduce((q,W)=>q+(W?1:0),J);let f=this.size*this.size,Z=Math.ceil(Math.abs(J*20-f*10)/f)-1;return $+=Z*$$,$}getAlignmentPatternPositions(){if(this.version===1)return[];else{let $=Math.floor(this.version/7)+2,J=this.version===32?26:Math.ceil((this.version*4+4)/($*2-2))*2,f=[6];for(let Z=this.size-7;f.length<$;Z-=J)f.splice(1,0,Z);return f}}finderPenaltyCountPatterns($){let J=$[1],f=J>0&&$[2]===J&&$[3]===J*3&&$[4]===J&&$[5]===J;return(f&&$[0]>=J*4&&$[6]>=J?1:0)+(f&&$[6]>=J*4&&$[0]>=J?1:0)}finderPenaltyTerminateAndCount($,J,f){if($)this.finderPenaltyAddHistory(J,f),J=0;return J+=this.size,this.finderPenaltyAddHistory(J,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory($,J){if(J[0]===0)$+=this.size;J.pop(),J.unshift($)}}function M($,J,f){if(J<0||J>31||$>>>J!==0)throw new RangeError("Value out of range");for(let Z=J-1;Z>=0;Z--)f.push($>>>Z&1)}function V($,J){return($>>>J&1)!==0}class L{constructor($,J,f){if(this.mode=$,this.numChars=J,this.bitData=f,J<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}getData(){return this.bitData.slice()}}var f$=[1,10,12,14],J$=[2,9,11,13],Z$=[4,8,16,16];function k($,J){return $[Math.floor((J+7)/17)+1]}function g($){let J=[];for(let f of $)M(f,8,J);return new L(Z$,$.length,J)}function F$($){if(!C($))throw new RangeError("String contains non-numeric characters");let J=[];for(let f=0;f<$.length;){let Z=Math.min($.length-f,3);M(Number.parseInt($.substring(f,f+Z),10),Z*3+1,J),f+=Z}return new L(f$,$.length,J)}function W$($){if(!m($))throw new RangeError("String contains unencodable characters in alphanumeric mode");let J=[],f;for(f=0;f+2<=$.length;f+=2){let Z=S.indexOf($.charAt(f))*45;Z+=S.indexOf($.charAt(f+1)),M(Z,11,J)}if(f<$.length)M(S.indexOf($.charAt(f)),6,J);return new L(J$,$.length,J)}function q$($){if($==="")return[];else if(C($))return[F$($)];else if(m($))return[W$($)];else return[g(K$($))]}function C($){return r.test($)}function m($){return t.test($)}function G$($,J){let f=0;for(let Z of $){let F=k(Z.mode,J);if(Z.numChars>=1<<F)return Number.POSITIVE_INFINITY;f+=4+F+Z.bitData.length}return f}function K$($){$=encodeURI($);let J=[];for(let f=0;f<$.length;f++)if($.charAt(f)!=="%")J.push($.charCodeAt(f));else J.push(Number.parseInt($.substring(f+1,f+3),16)),f+=2;return J}function A($){if($<Q||$>H)throw new RangeError("Version number out of range");let J=(16*$+128)*$+64;if($>=2){let f=Math.floor($/7)+2;if(J-=(25*f-10)*f-55,$>=7)J-=36}return J}function h($,J){return Math.floor(A($)/8)-R[J[0]][$]*D[J[0]][$]}function X$($){if($<1||$>255)throw new RangeError("Degree out of range");let J=[];for(let Z=0;Z<$-1;Z++)J.push(0);J.push(1);let f=1;for(let Z=0;Z<$;Z++){for(let F=0;F<J.length;F++)if(J[F]=_(J[F],f),F+1<J.length)J[F]^=J[F+1];f=_(f,2)}return J}function Y$($,J){let f=J.map((Z)=>0);for(let Z of $){let F=Z^f.shift();f.push(0),J.forEach((q,W)=>f[W]^=_(q,F))}return f}function _($,J){if($>>>8!==0||J>>>8!==0)throw new RangeError("Byte out of range");let f=0;for(let Z=7;Z>=0;Z--)f=f<<1^(f>>>7)*285,f^=(J>>>Z&1)*$;return f}function z$($,J,f=1,Z=40,F=-1,q=!0){if(!(Q<=f&&f<=Z&&Z<=H)||F<-1||F>7)throw new RangeError("Invalid value");let W,X;for(W=f;;W++){let K=h(W,J)*8,Y=G$($,W);if(Y<=K){X=Y;break}if(W>=Z)throw new RangeError("Data too long")}for(let K of[B,N,E])if(q&&X<=h(W,K)*8)J=K;let G=[];for(let K of $){M(K.mode[0],4,G),M(K.numChars,k(K.mode,W),G);for(let Y of K.getData())G.push(Y)}let U=h(W,J)*8;M(0,Math.min(4,U-G.length),G),M(0,(8-G.length%8)%8,G);for(let K=236;G.length<U;K^=253)M(K,8,G);let z=Array.from({length:Math.ceil(G.length/8)},()=>0);return G.forEach((K,Y)=>z[Y>>>3]|=K<<7-(Y&7)),new v(W,J,z,F)}function U$($,J){let{ecc:f="L",boostEcc:Z=!1,minVersion:F=1,maxVersion:q=40,maskPattern:W=-1,border:X=1}=J||{},G=typeof $==="string"?q$($):Array.isArray($)?[g($)]:void 0;if(!G)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof $}`);let U=z$(G,i[f],F,q,W,Z),z=V$({version:U.version,maskPattern:U.mask,size:U.size,data:U.modules,types:U.types},X);if(J?.invert)z.data=z.data.map((K)=>K.map((Y)=>!Y));return J?.onEncoded?.(z),z}function V$($,J=1){if(!J)return $;let{size:f}=$,Z=f+J*2;$.size=Z,$.data.forEach((q)=>{for(let W=0;W<J;W++)q.unshift(!1),q.push(!1)});for(let q=0;q<J;q++)$.data.unshift(Array.from({length:Z},(W)=>!1)),$.data.push(Array.from({length:Z},(W)=>!1));let F=I.Border;$.types.forEach((q)=>{for(let W=0;W<J;W++)q.unshift(F),q.push(F)});for(let q=0;q<J;q++)$.types.unshift(Array.from({length:Z},(W)=>F)),$.types.push(Array.from({length:Z},(W)=>F));return $}function b($,J={}){let f=U$($,J),{pixelSize:Z=10,whiteColor:F="white",blackColor:q="black"}=J,W=f.size*Z,X=f.size*Z,G=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${X} ${W}">`,U=[];for(let z=0;z<f.size;z++)for(let K=0;K<f.size;K++){let Y=K*Z,O=z*Z;if(f.data[z][K])U.push(`M${Y},${O}h${Z}v${Z}h-${Z}z`)}return G+=`<rect fill="${F}" width="${X}" height="${W}"/>`,G+=`<path fill="${q}" d="${U.join("")}"/>`,G+="</svg>",G}var M$=y("<div>"),O$=($,{element:J})=>{l();let[f,Z]=c("");return p(()=>{let F=b($.data,$);if($.width||$.height){let q=T(F);q.setAttribute("width",($.width??$.height).toString()),q.setAttribute("height",($.height??$.width).toString()),F=q.outerHTML}Z(F),console.log(F)}),(()=>{var F=M$();return x(()=>F.innerHTML=f()),F})()};u("qr-code",{width:null,height:null,data:"",ecc:"M",pixelSize:4},O$);

//# debugId=4CB9B61F864A4DA564756E2164756E21
