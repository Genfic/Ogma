import{I as x,J as c,N as p,X as y,fa as l}from"./chunk-c15tkzxp.js";var d=new DOMParser,w=($)=>{return d.parseFromString($,"text/html").body.firstElementChild};var I=(($)=>{return $[$.Border=-1]="Border",$[$.Data=0]="Data",$[$.Function=1]="Function",$[$.Position=2]="Position",$[$.Timing=3]="Timing",$[$.Alignment=4]="Alignment",$})(I||{}),n=Object.defineProperty,s=($,Z,J)=>(Z in $)?n($,Z,{enumerable:!0,configurable:!0,writable:!0,value:J}):$[Z]=J,M=($,Z,J)=>{return s($,typeof Z!=="symbol"?Z+"":Z,J),J},a=[0,1],N=[1,0],T=[2,3],R=[3,2],o={L:a,M:N,Q:T,H:R},i=/^[0-9]*$/,t=/^[A-Z0-9 $%*+.\/:-]*$/,A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Q=1,H=40,B=3,r=3,h=40,e=10,E=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],D=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class v{constructor($,Z,J,f){if(this.version=$,this.ecc=Z,M(this,"size"),M(this,"mask"),M(this,"modules",[]),M(this,"types",[]),$<Q||$>H)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=$*4+17;let W=Array.from({length:this.size},()=>!1);for(let F=0;F<this.size;F++)this.modules.push(W.slice()),this.types.push(W.map(()=>0));this.drawFunctionPatterns();let q=this.addEccAndInterleave(J);if(this.drawCodewords(q),f===-1){let F=1e9;for(let X=0;X<8;X++){this.applyMask(X),this.drawFormatBits(X);let G=this.getPenaltyScore();if(G<F)f=X,F=G;this.applyMask(X)}}this.mask=f,this.applyMask(f),this.drawFormatBits(f)}getModule($,Z){return $>=0&&$<this.size&&Z>=0&&Z<this.size&&this.modules[Z][$]}drawFunctionPatterns(){for(let J=0;J<this.size;J++)this.setFunctionModule(6,J,J%2===0,I.Timing),this.setFunctionModule(J,6,J%2===0,I.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let $=this.getAlignmentPatternPositions(),Z=$.length;for(let J=0;J<Z;J++)for(let f=0;f<Z;f++)if(!(J===0&&f===0||J===0&&f===Z-1||J===Z-1&&f===0))this.drawAlignmentPattern($[J],$[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits($){let Z=this.ecc[1]<<3|$,J=Z;for(let W=0;W<10;W++)J=J<<1^(J>>>9)*1335;let f=(Z<<10|J)^21522;for(let W=0;W<=5;W++)this.setFunctionModule(8,W,V(f,W));this.setFunctionModule(8,7,V(f,6)),this.setFunctionModule(8,8,V(f,7)),this.setFunctionModule(7,8,V(f,8));for(let W=9;W<15;W++)this.setFunctionModule(14-W,8,V(f,W));for(let W=0;W<8;W++)this.setFunctionModule(this.size-1-W,8,V(f,W));for(let W=8;W<15;W++)this.setFunctionModule(8,this.size-15+W,V(f,W));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let $=this.version;for(let J=0;J<12;J++)$=$<<1^($>>>11)*7973;let Z=this.version<<12|$;for(let J=0;J<18;J++){let f=V(Z,J),W=this.size-11+J%3,q=Math.floor(J/3);this.setFunctionModule(W,q,f),this.setFunctionModule(q,W,f)}}drawFinderPattern($,Z){for(let J=-4;J<=4;J++)for(let f=-4;f<=4;f++){let W=Math.max(Math.abs(f),Math.abs(J)),q=$+f,F=Z+J;if(q>=0&&q<this.size&&F>=0&&F<this.size)this.setFunctionModule(q,F,W!==2&&W!==4,I.Position)}}drawAlignmentPattern($,Z){for(let J=-2;J<=2;J++)for(let f=-2;f<=2;f++)this.setFunctionModule($+f,Z+J,Math.max(Math.abs(f),Math.abs(J))!==1,I.Alignment)}setFunctionModule($,Z,J,f=I.Function){this.modules[Z][$]=J,this.types[Z][$]=f}addEccAndInterleave($){let Z=this.version,J=this.ecc;if($.length!==j(Z,J))throw new RangeError("Invalid argument");let f=D[J[0]][Z],W=E[J[0]][Z],q=Math.floor(S(Z)/8),F=f-q%f,X=Math.floor(q/f),G=[],U=K$(W);for(let K=0,Y=0;K<f;K++){let O=$.slice(Y,Y+X-W+(K<F?0:1));Y+=O.length;let u=X$(O,U);if(K<F)O.push(0);G.push(O.concat(u))}let z=[];for(let K=0;K<G[0].length;K++)G.forEach((Y,O)=>{if(K!==X-W||O>=F)z.push(Y[K])});return z}drawCodewords($){if($.length!==Math.floor(S(this.version)/8))throw new RangeError("Invalid argument");let Z=0;for(let J=this.size-1;J>=1;J-=2){if(J===6)J=5;for(let f=0;f<this.size;f++)for(let W=0;W<2;W++){let q=J-W,X=(J+1&2)===0?this.size-1-f:f;if(!this.types[X][q]&&Z<$.length*8)this.modules[X][q]=V($[Z>>>3],7-(Z&7)),Z++}}}applyMask($){if($<0||$>7)throw new RangeError("Mask value out of range");for(let Z=0;Z<this.size;Z++)for(let J=0;J<this.size;J++){let f;switch($){case 0:f=(J+Z)%2===0;break;case 1:f=Z%2===0;break;case 2:f=J%3===0;break;case 3:f=(J+Z)%3===0;break;case 4:f=(Math.floor(J/3)+Math.floor(Z/2))%2===0;break;case 5:f=J*Z%2+J*Z%3===0;break;case 6:f=(J*Z%2+J*Z%3)%2===0;break;case 7:f=((J+Z)%2+J*Z%3)%2===0;break;default:throw new Error("Unreachable")}if(!this.types[Z][J]&&f)this.modules[Z][J]=!this.modules[Z][J]}}getPenaltyScore(){let $=0;for(let W=0;W<this.size;W++){let q=!1,F=0,X=[0,0,0,0,0,0,0];for(let G=0;G<this.size;G++)if(this.modules[W][G]===q){if(F++,F===5)$+=B;else if(F>5)$++}else{if(this.finderPenaltyAddHistory(F,X),!q)$+=this.finderPenaltyCountPatterns(X)*h;q=this.modules[W][G],F=1}$+=this.finderPenaltyTerminateAndCount(q,F,X)*h}for(let W=0;W<this.size;W++){let q=!1,F=0,X=[0,0,0,0,0,0,0];for(let G=0;G<this.size;G++)if(this.modules[G][W]===q){if(F++,F===5)$+=B;else if(F>5)$++}else{if(this.finderPenaltyAddHistory(F,X),!q)$+=this.finderPenaltyCountPatterns(X)*h;q=this.modules[G][W],F=1}$+=this.finderPenaltyTerminateAndCount(q,F,X)*h}for(let W=0;W<this.size-1;W++)for(let q=0;q<this.size-1;q++){let F=this.modules[W][q];if(F===this.modules[W][q+1]&&F===this.modules[W+1][q]&&F===this.modules[W+1][q+1])$+=r}let Z=0;for(let W of this.modules)Z=W.reduce((q,F)=>q+(F?1:0),Z);let J=this.size*this.size,f=Math.ceil(Math.abs(Z*20-J*10)/J)-1;return $+=f*e,$}getAlignmentPatternPositions(){if(this.version===1)return[];else{let $=Math.floor(this.version/7)+2,Z=this.version===32?26:Math.ceil((this.version*4+4)/($*2-2))*2,J=[6];for(let f=this.size-7;J.length<$;f-=Z)J.splice(1,0,f);return J}}finderPenaltyCountPatterns($){let Z=$[1],J=Z>0&&$[2]===Z&&$[3]===Z*3&&$[4]===Z&&$[5]===Z;return(J&&$[0]>=Z*4&&$[6]>=Z?1:0)+(J&&$[6]>=Z*4&&$[0]>=Z?1:0)}finderPenaltyTerminateAndCount($,Z,J){if($)this.finderPenaltyAddHistory(Z,J),Z=0;return Z+=this.size,this.finderPenaltyAddHistory(Z,J),this.finderPenaltyCountPatterns(J)}finderPenaltyAddHistory($,Z){if(Z[0]===0)$+=this.size;Z.pop(),Z.unshift($)}}function P($,Z,J){if(Z<0||Z>31||$>>>Z!==0)throw new RangeError("Value out of range");for(let f=Z-1;f>=0;f--)J.push($>>>f&1)}function V($,Z){return($>>>Z&1)!==0}class L{constructor($,Z,J){if(this.mode=$,this.numChars=Z,this.bitData=J,Z<0)throw new RangeError("Invalid argument");this.bitData=J.slice()}getData(){return this.bitData.slice()}}var $$=[1,10,12,14],J$=[2,9,11,13],Z$=[4,8,16,16];function k($,Z){return $[Math.floor((Z+7)/17)+1]}function g($){let Z=[];for(let J of $)P(J,8,Z);return new L(Z$,$.length,Z)}function f$($){if(!C($))throw new RangeError("String contains non-numeric characters");let Z=[];for(let J=0;J<$.length;){let f=Math.min($.length-J,3);P(Number.parseInt($.substring(J,J+f),10),f*3+1,Z),J+=f}return new L($$,$.length,Z)}function W$($){if(!b($))throw new RangeError("String contains unencodable characters in alphanumeric mode");let Z=[],J;for(J=0;J+2<=$.length;J+=2){let f=A.indexOf($.charAt(J))*45;f+=A.indexOf($.charAt(J+1)),P(f,11,Z)}if(J<$.length)P(A.indexOf($.charAt(J)),6,Z);return new L(J$,$.length,Z)}function q$($){if($==="")return[];else if(C($))return[f$($)];else if(b($))return[W$($)];else return[g(G$($))]}function C($){return i.test($)}function b($){return t.test($)}function F$($,Z){let J=0;for(let f of $){let W=k(f.mode,Z);if(f.numChars>=1<<W)return Number.POSITIVE_INFINITY;J+=4+W+f.bitData.length}return J}function G$($){$=encodeURI($);let Z=[];for(let J=0;J<$.length;J++)if($.charAt(J)!=="%")Z.push($.charCodeAt(J));else Z.push(Number.parseInt($.substring(J+1,J+3),16)),J+=2;return Z}function S($){if($<Q||$>H)throw new RangeError("Version number out of range");let Z=(16*$+128)*$+64;if($>=2){let J=Math.floor($/7)+2;if(Z-=(25*J-10)*J-55,$>=7)Z-=36}return Z}function j($,Z){return Math.floor(S($)/8)-E[Z[0]][$]*D[Z[0]][$]}function K$($){if($<1||$>255)throw new RangeError("Degree out of range");let Z=[];for(let f=0;f<$-1;f++)Z.push(0);Z.push(1);let J=1;for(let f=0;f<$;f++){for(let W=0;W<Z.length;W++)if(Z[W]=_(Z[W],J),W+1<Z.length)Z[W]^=Z[W+1];J=_(J,2)}return Z}function X$($,Z){let J=Z.map((f)=>0);for(let f of $){let W=f^J.shift();J.push(0),Z.forEach((q,F)=>J[F]^=_(q,W))}return J}function _($,Z){if($>>>8!==0||Z>>>8!==0)throw new RangeError("Byte out of range");let J=0;for(let f=7;f>=0;f--)J=J<<1^(J>>>7)*285,J^=(Z>>>f&1)*$;return J}function Y$($,Z,J=1,f=40,W=-1,q=!0){if(!(Q<=J&&J<=f&&f<=H)||W<-1||W>7)throw new RangeError("Invalid value");let F,X;for(F=J;;F++){let K=j(F,Z)*8,Y=F$($,F);if(Y<=K){X=Y;break}if(F>=f)throw new RangeError("Data too long")}for(let K of[N,T,R])if(q&&X<=j(F,K)*8)Z=K;let G=[];for(let K of $){P(K.mode[0],4,G),P(K.numChars,k(K.mode,F),G);for(let Y of K.getData())G.push(Y)}let U=j(F,Z)*8;P(0,Math.min(4,U-G.length),G),P(0,(8-G.length%8)%8,G);for(let K=236;G.length<U;K^=253)P(K,8,G);let z=Array.from({length:Math.ceil(G.length/8)},()=>0);return G.forEach((K,Y)=>z[Y>>>3]|=K<<7-(Y&7)),new v(F,Z,z,W)}function z$($,Z){let{ecc:J="L",boostEcc:f=!1,minVersion:W=1,maxVersion:q=40,maskPattern:F=-1,border:X=1}=Z||{},G=typeof $==="string"?q$($):Array.isArray($)?[g($)]:void 0;if(!G)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof $}`);let U=Y$(G,o[J],W,q,F,f),z=U$({version:U.version,maskPattern:U.mask,size:U.size,data:U.modules,types:U.types},X);if(Z?.invert)z.data=z.data.map((K)=>K.map((Y)=>!Y));return Z?.onEncoded?.(z),z}function U$($,Z=1){if(!Z)return $;let{size:J}=$,f=J+Z*2;$.size=f,$.data.forEach((q)=>{for(let F=0;F<Z;F++)q.unshift(!1),q.push(!1)});for(let q=0;q<Z;q++)$.data.unshift(Array.from({length:f},(F)=>!1)),$.data.push(Array.from({length:f},(F)=>!1));let W=I.Border;$.types.forEach((q)=>{for(let F=0;F<Z;F++)q.unshift(W),q.push(W)});for(let q=0;q<Z;q++)$.types.unshift(Array.from({length:f},(F)=>W)),$.types.push(Array.from({length:f},(F)=>W));return $}function m($,Z={}){let J=z$($,Z),{pixelSize:f=10,whiteColor:W="white",blackColor:q="black"}=Z,F=J.size*f,X=J.size*f,G=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${X} ${F}">`,U=[];for(let z=0;z<J.size;z++)for(let K=0;K<J.size;K++){let Y=K*f,O=z*f;if(J.data[z][K])U.push(`M${Y},${O}h${f}v${f}h-${f}z`)}return G+=`<rect fill="${W}" width="${X}" height="${F}"/>`,G+=`<path fill="${q}" d="${U.join("")}"/>`,G+="</svg>",G}var V$=y("<div>"),P$=($)=>{let[Z,J]=x(""),f=$.width??$.height,W=$.height??$.width;return p(()=>{let q=m($.data,$);if($.width||$.height){let F=w(q);F.setAttribute("width",f.toString()),F.setAttribute("height",W.toString()),q=F.outerHTML}J(q)}),(()=>{var q=V$();return`${f}px`!=null?q.style.setProperty("width",`${f}px`):q.style.removeProperty("width"),`${W}px`!=null?q.style.setProperty("height",`${W}px`):q.style.removeProperty("height"),q.style.setProperty("padding","5px"),c(()=>q.innerHTML=Z()),q})()};l("qr-code",{width:null,height:null,data:"",ecc:"M",pixelSize:4},P$);

//# debugId=998814E774DA7CD964756E2164756E21
