import{a as E}from"./chunk-6jawyp53.js";import{A as w,B as g,G as h,O as v,w as i,x as p}from"./chunk-1dj32eyg.js";function f(o,t,e){if(t===e)return t;return(o-t)/(e-t)}function a(o,t=0,e=1){if(e<t)throw`Max (${e}) cannot be less than min (${t})`;if(o<t)return t;if(o>e)return e;return o}var L=h("<div class=bar>"),R=(o,{element:t})=>{let[e,y]=i(0),[P,c]=i(!1),[H,k]=i(!1);return w(()=>{E(t,":host{position:sticky;inset:auto 0 0}.bar{background-color:var(--accent);height:3px;transition:width 50ms ease-out;position:relative}");let s=()=>{if(!P())window.requestAnimationFrame(()=>{r(),c(!1)}),c(!0)},r=()=>{let n=t.parentElement,u=n.getBoundingClientRect().bottom-window.innerHeight,z=n.offsetTop+n.offsetHeight,C=Math.max(z-window.innerHeight,0),d=1-a(f(u,0,C));if(y(d),d>=1&&!H())k(!0),t.dispatchEvent(new CustomEvent("read"))},l=()=>r();document.addEventListener("scroll",s),window.addEventListener("resize",l),r(),g(()=>{document.removeEventListener("scroll",s),window.removeEventListener("resize",l)})}),(()=>{var s=L();return p((r)=>(r=`${e()*100}%`)!=null?s.style.setProperty("width",r):s.style.removeProperty("width")),s})()};v("o-read-progress",null,R);

//# debugId=6BF757E07BAC8DAF64756E2164756E21
