{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\src-solid\\vote-button.tsx"],
  "sourcesContent": [
    "import { template as _$template } from \"solid-js/web\";\nimport { delegateEvents as _$delegateEvents } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nimport { insert as _$insert } from \"solid-js/web\";\nimport { memo as _$memo } from \"solid-js/web\";\nimport { getOwner as _$getOwner } from \"solid-js/web\";\nvar _tmpl$ = /*#__PURE__*/_$template(`<button type=button class=votes title=\"Give it a star!\"><o-icon></o-icon><span class=count>`, true, false, false);\nimport { DeleteApiVotes as deleteVote, GetApiVotes as getVotes, PostApiVotes as postVote } from \"@g/paths-public\";\nimport { log } from \"@h/logger\";\nimport { customElement } from \"solid-element\";\nimport { createResource } from \"solid-js\";\nimport css from \"./vote-button.css\";\nimport { styled } from \"@h/jsx-wc-style\";\nconst VoteButton = props => {\n  const [votes, {\n    mutate\n  }] = createResource(() => props.storyId, async id => {\n    const result = await getVotes(id);\n    return result.data;\n  });\n  const vote = async () => {\n    const send = votes().didVote ? deleteVote : postVote;\n    const result = await send({\n      storyId: props.storyId\n    }, {\n      RequestVerificationToken: props.csrf\n    });\n    if (result.ok) {\n      mutate(result.data);\n    } else {\n      log.error(`Error fetching data: ${result.statusText}`);\n    }\n  };\n  return () => (() => {\n    var _el$ = _tmpl$(),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.nextSibling;\n    _el$.$$click = vote;\n    _el$2._$owner = _$getOwner();\n    _$insert(_el$3, () => votes()?.count ?? 0);\n    _$effect(_p$ => {\n      var _v$ = !!votes()?.didVote,\n        _v$2 = votes()?.didVote ? \"ic:round-star\" : \"ic:round-star-border\";\n      _v$ !== _p$.e && _el$.classList.toggle(\"active\", _p$.e = _v$);\n      _v$2 !== _p$.t && (_el$2.icon = _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: undefined,\n      t: undefined\n    });\n    return _el$;\n  })();\n};\ncustomElement(\"o-vote\", {\n  storyId: 0,\n  csrf: \"\"\n}, styled(css)(VoteButton));\n_$delegateEvents([\"click\"]);"
  ],
  "mappings": "o1BAMA,FAAI,JAAsB,JAAW,wFAA+F,GAAM,GAAO,EAAK,EAOhJ,EAAa,KAAS,CAC1B,IAAO,GACL,WACG,EAAe,IAAM,EAAM,QAAS,MAAM,IAAM,CAEnD,OADe,MAAM,EAAS,CAAE,GAClB,KACf,EACK,EAAO,SAAY,CAEvB,IAAM,EAAS,MADF,EAAM,EAAE,QAAU,EAAa,GAClB,CACxB,QAAS,EAAM,OACjB,EAAG,CACD,yBAA0B,EAAM,IAClC,CAAC,EACD,GAAI,EAAO,GACT,EAAO,EAAO,IAAI,EAElB,OAAI,MAAM,wBAAwB,EAAO,YAAY,GAGzD,MAAO,KAAO,IAAM,CAClB,IAAI,EAAO,EAAO,EAChB,EAAQ,EAAK,WACb,EAAQ,EAAM,YAchB,OAbA,EAAK,QAAU,EACf,EAAM,QAAU,EAAW,EAC3B,EAAS,EAAO,IAAM,EAAM,GAAG,OAAS,CAAC,EACzC,EAAS,KAAO,CACd,IAAI,IAAQ,EAAM,GAAG,QACnB,EAAO,EAAM,GAAG,QAAU,gBAAkB,uBAG9C,OAFA,IAAQ,EAAI,GAAK,EAAK,UAAU,OAAO,SAAU,EAAI,EAAI,CAAG,EAC5D,IAAS,EAAI,IAAM,EAAM,KAAO,EAAI,EAAI,GACjC,GACN,CACD,EAAG,OACH,EAAG,MACL,CAAC,EACM,IACN,GAEL,EAAc,SAAU,CACtB,QAAS,EACT,KAAM,EACR,EAAG,EAAO,CAAG,EAAE,CAAU,CAAC,EAC1B,EAAiB,CAAC,OAAO,CAAC",
  "debugId": "D58AA0F94DE53D2464756E2164756E21",
  "names": []
}