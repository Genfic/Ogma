{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\src-solid\\vote-button.tsx"],
  "sourcesContent": [
    "import { template as _$template } from \"solid-js/web\";\nimport { delegateEvents as _$delegateEvents } from \"solid-js/web\";\nimport { className as _$className } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nimport { insert as _$insert } from \"solid-js/web\";\nimport { getOwner as _$getOwner } from \"solid-js/web\";\nvar _tmpl$ = /*#__PURE__*/_$template(`<button type=button title=\"Give it a star!\"><o-icon class=material-icons-outlined></o-icon><span class=count>`, true, false, false);\nimport { DeleteApiVotes as deleteVote, GetApiVotes as getVotes, PostApiVotes as postVote } from \"@g/paths-public\";\nimport { log } from \"@h/logger\";\nimport { customElement, noShadowDOM } from \"solid-element\";\nimport { createSignal, onMount } from \"solid-js\";\nconst VoteButton = props => {\n  noShadowDOM();\n  const [voted, setVoted] = createSignal(false);\n  const [score, setScore] = createSignal(0);\n  onMount(async () => {\n    const result = await getVotes(props.storyId);\n    if (result.ok) {\n      const {\n        count,\n        didVote\n      } = result.data;\n      setScore(count);\n      setVoted(didVote);\n    } else {\n      log.error(`Error fetching data: ${result.statusText}`);\n    }\n  });\n  const vote = async () => {\n    const send = voted() ? deleteVote : postVote;\n    const result = await send({\n      storyId: props.storyId\n    }, {\n      RequestVerificationToken: props.csrf\n    });\n    if (result.ok) {\n      const {\n        count,\n        didVote\n      } = result.data;\n      setScore(count);\n      setVoted(didVote);\n    } else {\n      log.error(`Error fetching data: ${result.statusText}`);\n    }\n  };\n  return () => (() => {\n    var _el$ = _tmpl$(),\n      _el$2 = _el$.firstChild,\n      _el$3 = _el$2.nextSibling;\n    _el$.$$click = vote;\n    _el$2._$owner = _$getOwner();\n    _$insert(_el$3, score);\n    _$effect(_p$ => {\n      var _v$ = `votes action-btn large ${voted() ? \"active\" : \"\"}`,\n        _v$2 = voted() ? \"ic:round-star\" : \"ic:round-star-border\";\n      _v$ !== _p$.e && _$className(_el$, _p$.e = _v$);\n      _v$2 !== _p$.t && (_el$2.icon = _p$.t = _v$2);\n      return _p$;\n    }, {\n      e: undefined,\n      t: undefined\n    });\n    return _el$;\n  })();\n};\ncustomElement(\"o-vote\", {\n  storyId: 0,\n  csrf: \"\"\n}, VoteButton);\n_$delegateEvents([\"click\"]);"
  ],
  "mappings": "iNAMA,FAAI,JAAsB,EAAW,gHAAiH,GAAM,GAAO,EAAK,EAKlK,EAAa,KAAS,CAC1B,EAAY,EACZ,IAAO,EAAO,GAAY,EAAa,EAAK,GACrC,EAAO,GAAY,EAAa,CAAC,EACxC,EAAQ,SAAY,CAClB,IAAM,EAAS,MAAM,EAAS,EAAM,OAAO,EAC3C,GAAI,EAAO,GAAI,CACb,IACE,QACA,WACE,EAAO,KACX,EAAS,CAAK,EACd,EAAS,CAAO,EAEhB,OAAI,MAAM,wBAAwB,EAAO,YAAY,EAExD,EACD,IAAM,EAAO,SAAY,CAEvB,IAAM,EAAS,MADF,EAAM,EAAI,EAAa,GACV,CACxB,QAAS,EAAM,OACjB,EAAG,CACD,yBAA0B,EAAM,IAClC,CAAC,EACD,GAAI,EAAO,GAAI,CACb,IACE,QACA,WACE,EAAO,KACX,EAAS,CAAK,EACd,EAAS,CAAO,EAEhB,OAAI,MAAM,wBAAwB,EAAO,YAAY,GAGzD,MAAO,KAAO,IAAM,CAClB,IAAI,EAAO,EAAO,EAChB,EAAQ,EAAK,WACb,EAAQ,EAAM,YAchB,OAbA,EAAK,QAAU,EACf,EAAM,QAAU,EAAW,EAC3B,EAAS,EAAO,CAAK,EACrB,EAAS,KAAO,CACd,IAAI,EAAM,0BAA0B,EAAM,EAAI,SAAW,KACvD,EAAO,EAAM,EAAI,gBAAkB,uBAGrC,OAFA,IAAQ,EAAI,GAAK,EAAY,EAAM,EAAI,EAAI,CAAG,EAC9C,IAAS,EAAI,IAAM,EAAM,KAAO,EAAI,EAAI,GACjC,GACN,CACD,EAAG,OACH,EAAG,MACL,CAAC,EACM,IACN,GAEL,EAAc,SAAU,CACtB,QAAS,EACT,KAAM,EACR,EAAG,CAAU,EACb,EAAiB,CAAC,OAAO,CAAC",
  "debugId": "C08D4CE6238A0ABB64756E2164756E21",
  "names": []
}