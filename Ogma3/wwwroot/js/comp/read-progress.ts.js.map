{
  "version": 3,
  "sources": ["..\\..\\..\\FrontendCode\\typescript\\src-helpers\\math-helpers.ts", "..\\..\\..\\FrontendCode\\typescript\\src-solid\\read-progress.ts.tsx"],
  "sourcesContent": [
    "/**\r\n * Normalizes a number within a given [min, max] range to a [0, 1] range\r\n * @param num The number to normalize\r\n * @param min The minimum value the given number can take\r\n * @param max The maximum value the given number can take\r\n * @returns {number} The given number normalized into [0, 1] range\r\n */\r\nexport function normalize(num: number, min: number, max: number): number {\r\n\tif (min === max) return min;\r\n\treturn (num - min) / (max - min);\r\n}\r\n\r\n/**\r\n * Clamps a given number to a given [min, max] range\r\n * @param num The number to clamp\r\n * @param min The lower edge to clamp to, by default 0\r\n * @param max The upper edge to clamp to, by default 1\r\n */\r\nexport function clamp(num: number, min = 0, max = 1): number {\r\n\tif (max < min) throw `Max (${max}) cannot be less than min (${min})`;\r\n\tif (num < min) return min;\r\n\tif (num > max) return max;\r\n\treturn num;\r\n}\r\n",
    "import { template as _$template } from \"solid-js/web\";\nimport { effect as _$effect } from \"solid-js/web\";\nvar _tmpl$ = /*#__PURE__*/_$template(`<div class=bar>`);\nimport { addStyle } from \"@h/jsx-wc-style\";\nimport { clamp, normalize } from \"@h/math-helpers\";\nimport { customElement } from \"solid-element\";\nimport { createSignal, onCleanup, onMount } from \"solid-js\";\nimport { minifyCss } from \"@h/minify.macro\" with { type: \"macro\" };\nconst ReadProgress = (_, {\n  element\n}) => {\n  const [progress, setProgress] = createSignal(0);\n  const [ticking, setTicking] = createSignal(false);\n  const [read, setRead] = createSignal(false);\n  onMount(() => {\n    // Add styles to shadow root\n    addStyle(element, minifyCss(`\n\t\t\t\t:host {\n\t\t\t\t\tposition: sticky;\n\t\t\t\t\tinset: auto 0 0;\n\t\t\t\t}\n\n\t\t\t\t.bar {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\theight: 3px;\n\t\t\t\t\tbackground-color: var(--accent);\n\t\t\t\t\ttransition: width 50ms ease-out;\n\t\t\t\t}\n\t\t\t`));\n    const handleScroll = () => {\n      if (!ticking()) {\n        window.requestAnimationFrame(() => {\n          updateProgress();\n          setTicking(false);\n        });\n        setTicking(true);\n      }\n    };\n    const updateProgress = () => {\n      const parent = element.parentElement;\n      const elBottom = parent.getBoundingClientRect().bottom;\n      const percent = elBottom - window.innerHeight;\n      const containerHeight = parent.offsetTop + parent.offsetHeight;\n      const maxHeight = Math.max(containerHeight - window.innerHeight, 0);\n      const newProgress = 1 - clamp(normalize(percent, 0, maxHeight));\n      setProgress(newProgress);\n      if (newProgress >= 1 && !read()) {\n        setRead(true);\n        element.dispatchEvent(new CustomEvent(\"read\"));\n      }\n    };\n    const handleResize = () => updateProgress();\n    document.addEventListener(\"scroll\", handleScroll);\n    window.addEventListener(\"resize\", handleResize);\n    updateProgress();\n    onCleanup(() => {\n      document.removeEventListener(\"scroll\", handleScroll);\n      window.removeEventListener(\"resize\", handleResize);\n    });\n  });\n  return (() => {\n    var _el$ = _tmpl$();\n    _$effect(_$p => (_$p = `${progress() * 100}%`) != null ? _el$.style.setProperty(\"width\", _$p) : _el$.style.removeProperty(\"width\"));\n    return _el$;\n  })();\n};\ncustomElement(\"o-read-progress\", null, ReadProgress);"
  ],
  "mappings": "yHAOO,GAAS,CAAS,CAAC,EAAa,EAAa,EAAqB,CACxE,GAAI,IAAQ,EAAK,OAAO,EACxB,OAAQ,EAAM,IAAQ,EAAM,GAStB,SAAS,CAAK,CAAC,EAAa,EAAM,EAAG,EAAM,EAAW,CAC5D,GAAI,EAAM,EAAK,KAAM,QAAQ,+BAAiC,KAC9D,GAAI,EAAM,EAAK,OAAO,EACtB,GAAI,EAAM,EAAK,OAAO,EACtB,OAAO,ECpBR,IAAI,EAAsB,EAAW,iBAAiB,EAMhD,EAAe,CAAC,GACpB,aACI,CACJ,IAAO,EAAU,GAAe,EAAa,CAAC,GACvC,EAAS,GAAc,EAAa,EAAK,GACzC,EAAM,GAAW,EAAa,EAAK,EA+C1C,OA9CA,EAAQ,IAAM,CAEZ,EAAS,EAAS,uIAYjB,EACD,IAAM,EAAe,IAAM,CACzB,IAAK,EAAQ,EACX,OAAO,sBAAsB,IAAM,CACjC,EAAe,EACf,EAAW,EAAK,EACjB,EACD,EAAW,EAAI,GAGb,EAAiB,IAAM,CAC3B,IAAM,EAAS,EAAQ,cAEjB,EADW,EAAO,sBAAsB,EAAE,OACrB,OAAO,YAC5B,EAAkB,EAAO,UAAY,EAAO,aAC5C,EAAY,KAAK,IAAI,EAAkB,OAAO,YAAa,CAAC,EAC5D,EAAc,EAAI,EAAM,EAAU,EAAS,EAAG,CAAS,CAAC,EAE9D,GADA,EAAY,CAAW,EACnB,GAAe,IAAM,EAAK,EAC5B,EAAQ,EAAI,EACZ,EAAQ,cAAc,IAAI,YAAY,MAAM,CAAC,GAG3C,EAAe,IAAM,EAAe,EAC1C,SAAS,iBAAiB,SAAU,CAAY,EAChD,OAAO,iBAAiB,SAAU,CAAY,EAC9C,EAAe,EACf,EAAU,IAAM,CACd,SAAS,oBAAoB,SAAU,CAAY,EACnD,OAAO,oBAAoB,SAAU,CAAY,EAClD,EACF,GACO,IAAM,CACZ,IAAI,EAAO,EAAO,EAElB,OADA,EAAS,MAAQ,EAAM,GAAG,EAAS,EAAI,SAAW,KAAO,EAAK,MAAM,YAAY,QAAS,CAAG,EAAI,EAAK,MAAM,eAAe,OAAO,CAAC,EAC3H,IACN,GAEL,EAAc,kBAAmB,KAAM,CAAY",
  "debugId": "6BF757E07BAC8DAF64756E2164756E21",
  "names": []
}