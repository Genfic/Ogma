import{A as x,D as p,E as y,G as l,N as u,O as d,w as c}from"./chunk-1dj32eyg.js";var s=new DOMParser,T=($)=>{return s.parseFromString($,"text/html").body.firstElementChild};var h=(($)=>{return $[$.Border=-1]="Border",$[$.Data=0]="Data",$[$.Function=1]="Function",$[$.Position=2]="Position",$[$.Timing=3]="Timing",$[$.Alignment=4]="Alignment",$})(h||{}),a=Object.defineProperty,o=($,f,J)=>(f in $)?a($,f,{enumerable:!0,configurable:!0,writable:!0,value:J}):$[f]=J,I=($,f,J)=>{return o($,typeof f!=="symbol"?f+"":f,J),J},i=[0,1],B=[1,0],N=[2,3],E=[3,2],r={L:i,M:B,Q:N,H:E},t=/^[0-9]*$/,e=/^[A-Z0-9 $%*+.\/:-]*$/,S="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",H=1,Q=40,w=3,$$=3,P=40,f$=10,R=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],D=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class v{constructor($,f,J,Z){if(this.version=$,this.ecc=f,I(this,"size"),I(this,"mask"),I(this,"modules",[]),I(this,"types",[]),$<H||$>Q)throw new RangeError("Version value out of range");if(Z<-1||Z>7)throw new RangeError("Mask value out of range");this.size=$*4+17;let F=Array.from({length:this.size},()=>!1);for(let W=0;W<this.size;W++)this.modules.push(F.slice()),this.types.push(F.map(()=>0));this.drawFunctionPatterns();let q=this.addEccAndInterleave(J);if(this.drawCodewords(q),Z===-1){let W=1e9;for(let K=0;K<8;K++){this.applyMask(K),this.drawFormatBits(K);let G=this.getPenaltyScore();if(G<W)Z=K,W=G;this.applyMask(K)}}this.mask=Z,this.applyMask(Z),this.drawFormatBits(Z)}getModule($,f){return $>=0&&$<this.size&&f>=0&&f<this.size&&this.modules[f][$]}drawFunctionPatterns(){for(let J=0;J<this.size;J++)this.setFunctionModule(6,J,J%2===0,h.Timing),this.setFunctionModule(J,6,J%2===0,h.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let $=this.getAlignmentPatternPositions(),f=$.length;for(let J=0;J<f;J++)for(let Z=0;Z<f;Z++)if(!(J===0&&Z===0||J===0&&Z===f-1||J===f-1&&Z===0))this.drawAlignmentPattern($[J],$[Z]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits($){let f=this.ecc[1]<<3|$,J=f;for(let F=0;F<10;F++)J=J<<1^(J>>>9)*1335;let Z=(f<<10|J)^21522;for(let F=0;F<=5;F++)this.setFunctionModule(8,F,M(Z,F));this.setFunctionModule(8,7,M(Z,6)),this.setFunctionModule(8,8,M(Z,7)),this.setFunctionModule(7,8,M(Z,8));for(let F=9;F<15;F++)this.setFunctionModule(14-F,8,M(Z,F));for(let F=0;F<8;F++)this.setFunctionModule(this.size-1-F,8,M(Z,F));for(let F=8;F<15;F++)this.setFunctionModule(8,this.size-15+F,M(Z,F));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let $=this.version;for(let J=0;J<12;J++)$=$<<1^($>>>11)*7973;let f=this.version<<12|$;for(let J=0;J<18;J++){let Z=M(f,J),F=this.size-11+J%3,q=Math.floor(J/3);this.setFunctionModule(F,q,Z),this.setFunctionModule(q,F,Z)}}drawFinderPattern($,f){for(let J=-4;J<=4;J++)for(let Z=-4;Z<=4;Z++){let F=Math.max(Math.abs(Z),Math.abs(J)),q=$+Z,W=f+J;if(q>=0&&q<this.size&&W>=0&&W<this.size)this.setFunctionModule(q,W,F!==2&&F!==4,h.Position)}}drawAlignmentPattern($,f){for(let J=-2;J<=2;J++)for(let Z=-2;Z<=2;Z++)this.setFunctionModule($+Z,f+J,Math.max(Math.abs(Z),Math.abs(J))!==1,h.Alignment)}setFunctionModule($,f,J,Z=h.Function){this.modules[f][$]=J,this.types[f][$]=Z}addEccAndInterleave($){let f=this.version,J=this.ecc;if($.length!==j(f,J))throw new RangeError("Invalid argument");let Z=D[J[0]][f],F=R[J[0]][f],q=Math.floor(A(f)/8),W=Z-q%Z,K=Math.floor(q/Z),G=[],U=Y$(F);for(let X=0,Y=0;X<Z;X++){let O=$.slice(Y,Y+K-F+(X<W?0:1));Y+=O.length;let n=z$(O,U);if(X<W)O.push(0);G.push(O.concat(n))}let z=[];for(let X=0;X<G[0].length;X++)G.forEach((Y,O)=>{if(X!==K-F||O>=W)z.push(Y[X])});return z}drawCodewords($){if($.length!==Math.floor(A(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let J=this.size-1;J>=1;J-=2){if(J===6)J=5;for(let Z=0;Z<this.size;Z++)for(let F=0;F<2;F++){let q=J-F,K=(J+1&2)===0?this.size-1-Z:Z;if(!this.types[K][q]&&f<$.length*8)this.modules[K][q]=M($[f>>>3],7-(f&7)),f++}}}applyMask($){if($<0||$>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let J=0;J<this.size;J++){let Z;switch($){case 0:Z=(J+f)%2===0;break;case 1:Z=f%2===0;break;case 2:Z=J%3===0;break;case 3:Z=(J+f)%3===0;break;case 4:Z=(Math.floor(J/3)+Math.floor(f/2))%2===0;break;case 5:Z=J*f%2+J*f%3===0;break;case 6:Z=(J*f%2+J*f%3)%2===0;break;case 7:Z=((J+f)%2+J*f%3)%2===0;break;default:throw new Error("Unreachable")}if(!this.types[f][J]&&Z)this.modules[f][J]=!this.modules[f][J]}}getPenaltyScore(){let $=0;for(let F=0;F<this.size;F++){let q=!1,W=0,K=[0,0,0,0,0,0,0];for(let G=0;G<this.size;G++)if(this.modules[F][G]===q){if(W++,W===5)$+=w;else if(W>5)$++}else{if(this.finderPenaltyAddHistory(W,K),!q)$+=this.finderPenaltyCountPatterns(K)*P;q=this.modules[F][G],W=1}$+=this.finderPenaltyTerminateAndCount(q,W,K)*P}for(let F=0;F<this.size;F++){let q=!1,W=0,K=[0,0,0,0,0,0,0];for(let G=0;G<this.size;G++)if(this.modules[G][F]===q){if(W++,W===5)$+=w;else if(W>5)$++}else{if(this.finderPenaltyAddHistory(W,K),!q)$+=this.finderPenaltyCountPatterns(K)*P;q=this.modules[G][F],W=1}$+=this.finderPenaltyTerminateAndCount(q,W,K)*P}for(let F=0;F<this.size-1;F++)for(let q=0;q<this.size-1;q++){let W=this.modules[F][q];if(W===this.modules[F][q+1]&&W===this.modules[F+1][q]&&W===this.modules[F+1][q+1])$+=$$}let f=0;for(let F of this.modules)f=F.reduce((q,W)=>q+(W?1:0),f);let J=this.size*this.size,Z=Math.ceil(Math.abs(f*20-J*10)/J)-1;return $+=Z*f$,$}getAlignmentPatternPositions(){if(this.version===1)return[];else{let $=Math.floor(this.version/7)+2,f=this.version===32?26:Math.ceil((this.version*4+4)/($*2-2))*2,J=[6];for(let Z=this.size-7;J.length<$;Z-=f)J.splice(1,0,Z);return J}}finderPenaltyCountPatterns($){let f=$[1],J=f>0&&$[2]===f&&$[3]===f*3&&$[4]===f&&$[5]===f;return(J&&$[0]>=f*4&&$[6]>=f?1:0)+(J&&$[6]>=f*4&&$[0]>=f?1:0)}finderPenaltyTerminateAndCount($,f,J){if($)this.finderPenaltyAddHistory(f,J),f=0;return f+=this.size,this.finderPenaltyAddHistory(f,J),this.finderPenaltyCountPatterns(J)}finderPenaltyAddHistory($,f){if(f[0]===0)$+=this.size;f.pop(),f.unshift($)}}function V($,f,J){if(f<0||f>31||$>>>f!==0)throw new RangeError("Value out of range");for(let Z=f-1;Z>=0;Z--)J.push($>>>Z&1)}function M($,f){return($>>>f&1)!==0}class L{constructor($,f,J){if(this.mode=$,this.numChars=f,this.bitData=J,f<0)throw new RangeError("Invalid argument");this.bitData=J.slice()}getData(){return this.bitData.slice()}}var J$=[1,10,12,14],Z$=[2,9,11,13],F$=[4,8,16,16];function k($,f){return $[Math.floor((f+7)/17)+1]}function g($){let f=[];for(let J of $)V(J,8,f);return new L(F$,$.length,f)}function W$($){if(!C($))throw new RangeError("String contains non-numeric characters");let f=[];for(let J=0;J<$.length;){let Z=Math.min($.length-J,3);V(Number.parseInt($.substring(J,J+Z),10),Z*3+1,f),J+=Z}return new L(J$,$.length,f)}function q$($){if(!m($))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],J;for(J=0;J+2<=$.length;J+=2){let Z=S.indexOf($.charAt(J))*45;Z+=S.indexOf($.charAt(J+1)),V(Z,11,f)}if(J<$.length)V(S.indexOf($.charAt(J)),6,f);return new L(Z$,$.length,f)}function G$($){if($==="")return[];else if(C($))return[W$($)];else if(m($))return[q$($)];else return[g(X$($))]}function C($){return t.test($)}function m($){return e.test($)}function K$($,f){let J=0;for(let Z of $){let F=k(Z.mode,f);if(Z.numChars>=1<<F)return Number.POSITIVE_INFINITY;J+=4+F+Z.bitData.length}return J}function X$($){$=encodeURI($);let f=[];for(let J=0;J<$.length;J++)if($.charAt(J)!=="%")f.push($.charCodeAt(J));else f.push(Number.parseInt($.substring(J+1,J+3),16)),J+=2;return f}function A($){if($<H||$>Q)throw new RangeError("Version number out of range");let f=(16*$+128)*$+64;if($>=2){let J=Math.floor($/7)+2;if(f-=(25*J-10)*J-55,$>=7)f-=36}return f}function j($,f){return Math.floor(A($)/8)-R[f[0]][$]*D[f[0]][$]}function Y$($){if($<1||$>255)throw new RangeError("Degree out of range");let f=[];for(let Z=0;Z<$-1;Z++)f.push(0);f.push(1);let J=1;for(let Z=0;Z<$;Z++){for(let F=0;F<f.length;F++)if(f[F]=_(f[F],J),F+1<f.length)f[F]^=f[F+1];J=_(J,2)}return f}function z$($,f){let J=f.map((Z)=>0);for(let Z of $){let F=Z^J.shift();J.push(0),f.forEach((q,W)=>J[W]^=_(q,F))}return J}function _($,f){if($>>>8!==0||f>>>8!==0)throw new RangeError("Byte out of range");let J=0;for(let Z=7;Z>=0;Z--)J=J<<1^(J>>>7)*285,J^=(f>>>Z&1)*$;return J}function U$($,f,J=1,Z=40,F=-1,q=!0){if(!(H<=J&&J<=Z&&Z<=Q)||F<-1||F>7)throw new RangeError("Invalid value");let W,K;for(W=J;;W++){let X=j(W,f)*8,Y=K$($,W);if(Y<=X){K=Y;break}if(W>=Z)throw new RangeError("Data too long")}for(let X of[B,N,E])if(q&&K<=j(W,X)*8)f=X;let G=[];for(let X of $){V(X.mode[0],4,G),V(X.numChars,k(X.mode,W),G);for(let Y of X.getData())G.push(Y)}let U=j(W,f)*8;V(0,Math.min(4,U-G.length),G),V(0,(8-G.length%8)%8,G);for(let X=236;G.length<U;X^=253)V(X,8,G);let z=Array.from({length:Math.ceil(G.length/8)},()=>0);return G.forEach((X,Y)=>z[Y>>>3]|=X<<7-(Y&7)),new v(W,f,z,F)}function M$($,f){let{ecc:J="L",boostEcc:Z=!1,minVersion:F=1,maxVersion:q=40,maskPattern:W=-1,border:K=1}=f||{},G=typeof $==="string"?G$($):Array.isArray($)?[g($)]:void 0;if(!G)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof $}`);let U=U$(G,r[J],F,q,W,Z),z=V$({version:U.version,maskPattern:U.mask,size:U.size,data:U.modules,types:U.types},K);if(f?.invert)z.data=z.data.map((X)=>X.map((Y)=>!Y));return f?.onEncoded?.(z),z}function V$($,f=1){if(!f)return $;let{size:J}=$,Z=J+f*2;$.size=Z,$.data.forEach((q)=>{for(let W=0;W<f;W++)q.unshift(!1),q.push(!1)});for(let q=0;q<f;q++)$.data.unshift(Array.from({length:Z},(W)=>!1)),$.data.push(Array.from({length:Z},(W)=>!1));let F=h.Border;$.types.forEach((q)=>{for(let W=0;W<f;W++)q.unshift(F),q.push(F)});for(let q=0;q<f;q++)$.types.unshift(Array.from({length:Z},(W)=>F)),$.types.push(Array.from({length:Z},(W)=>F));return $}function b($,f={}){let J=M$($,f),{pixelSize:Z=10,whiteColor:F="white",blackColor:q="black"}=f,W=J.size*Z,K=J.size*Z,G=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${K} ${W}">`,U=[];for(let z=0;z<J.size;z++)for(let X=0;X<J.size;X++){let Y=X*Z,O=z*Z;if(J.data[z][X])U.push(`M${Y},${O}h${Z}v${Z}h-${Z}z`)}return G+=`<rect fill="${F}" width="${K}" height="${W}"/>`,G+=`<path fill="${q}" d="${U.join("")}"/>`,G+="</svg>",G}var O$=l("<div>"),h$={pixelSize:4,ecc:"M"},I$=($,{element:f})=>{u();let[J,Z]=c([]);return x(()=>{let F=[];for(let q of f.children){let W=b(q.textContent,h$);if($.width||$.height){let K=T(W);K.setAttribute("width",($.width??$.height).toString()),K.setAttribute("height",($.height??$.width).toString()),W=K.outerHTML}F.push(W)}f.innerHTML="",Z(F)}),p(y,{get each(){return J()},children:(F)=>(()=>{var q=O$();return q.innerHTML=F,q})()})};d("qr-code",{width:0,height:0},I$);

//# debugId=3B356C34DDE21F7A64756E2164756E21
