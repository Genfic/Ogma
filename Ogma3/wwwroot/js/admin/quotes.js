async function s(e,t,n,o,c){let a=await fetch(e,{method:t,headers:{"Content-Type":"application/json",...o},body:n?JSON.stringify(n):null,...c}),l=a.headers.get("content-type"),i;if(l?.includes("application/json"))i=await a.json();else i=await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:i}}var r=async(e,t,n)=>await s(`/api/quotes/${e}`,"DELETE",void 0,t,n);var d=async(e,t)=>await s("/api/quotes","GET",void 0,e,t);var u=async(e,t,n)=>await s("/api/quotes","POST",e,t,n),p=async(e,t,n)=>await s("/api/quotes/json","POST",e,t,n);var m=async(e,t,n)=>await s("/api/quotes","PUT",e,t,n);new Vue({el:"#app",data:{form:{id:null,body:null,author:null},quotes:[],json:null,search:"",editorOpen:!1},methods:{getQuotes:async function(){let e=await d();this.quotes=e.data},deleteQuote:async function(e){if(confirm("Delete permanently?")){let n=(await r(e.id)).data;this.quotes=this.quotes.filter((o)=>o.id!==n)}},openEditor:function(e){this.editorOpen=!0,this.form=e},closeEditor:function(){this.editorOpen=!1;for(let e in Object.keys(this.form))this.form[e]=null},saveQuote:async function(){if(this.form.id)await m(this.form);else await u(this.form)},fromJson:async function(){let e=await p({quotes:this.json});alert(`Created ${e.data} quotes`)}},watch:{search(){for(let e of this.quotes)e.show=this.search?e.body.toLowerCase().includes(this.search.toLowerCase())||e.author.toLowerCase().includes(this.search.toLowerCase()):!0}},async mounted(){await this.getQuotes()}});

//# debugId=31E9C177B4E1D81364756E2164756E21
