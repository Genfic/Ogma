var d="GET",i="POST",r="PUT";var u="DELETE";async function o(e,t,n,s,C){let a=await fetch(e,{method:t,headers:{"content-type":"application/json",...s},body:n&&JSON.stringify(n),...C}),f=a.headers.get("content-type")?.includes("application/json")?await a.json():await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:f}}var p=async(e,t,n)=>await o(`/api/quotes/${e}`,u,void 0,t,n);var m=async(e,t)=>await o("/api/quotes",d,void 0,e,t);var c=async(e,t,n)=>await o("/api/quotes",i,e,t,n),l=async(e,t,n)=>await o("/api/quotes/json",i,e,t,n);var I=async(e,t,n)=>await o("/api/quotes",r,e,t,n);new Vue({el:"#app",data:{form:{id:null,body:null,author:null},quotes:[],json:null,search:"",editorOpen:!1},methods:{getQuotes:async function(){let e=await m();this.quotes=e.data},deleteQuote:async function(e){if(confirm("Delete permanently?")){let n=(await p(e.id)).data;this.quotes=this.quotes.filter((s)=>s.id!==n)}},openEditor:function(e){this.editorOpen=!0,this.form=e},closeEditor:function(){this.editorOpen=!1;for(let e in Object.keys(this.form))this.form[e]=null},saveQuote:async function(){if(this.form.id)await I(this.form);else await c(this.form)},fromJson:async function(){let e=await l({quotes:this.json});alert(`Created ${e.data} quotes`)}},watch:{search(){for(let e of this.quotes)e.show=this.search?e.body.toLowerCase().includes(this.search.toLowerCase())||e.author.toLowerCase().includes(this.search.toLowerCase()):!0}},async mounted(){await this.getQuotes()}});

//# debugId=F268CF7A8D02A15864756E2164756E21
