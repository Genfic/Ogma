var s="GET",o="POST";var d="DELETE";async function i(e,t,n,p,c){let a=await fetch(e,{method:t,headers:{"content-type":"application/json",...p},body:n&&JSON.stringify(n),...c}),l=a.headers.get("content-type")?.includes("application/json")?await a.json():await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:l}}var r=async(e,t,n)=>await i(`/admin/api/infractions/${e}`,d,void 0,t,n);var u=async(e,t,n)=>await i(`/api/users/names?name=${e}`,s,void 0,t,n);var m=async(e,t,n)=>await i("/api/users/roles",o,e,t,n);new Vue({el:"#app",data:{csrf:null,rolesRoute:null,infractionsRoute:null,roles:[],userId:null,names:[],input:"",image:null},methods:{manageInfractions:function(){this.$refs.manage.visible=!0},removeInfraction:async function(e){if((await r(e,{RequestVerificationToken:this.csrf})).ok)location.reload()},saveRoles:async function(){if(this.roles=[...document.querySelectorAll("input[type=checkbox][name=roles]:checked")].map((t)=>Number.parseInt(t.value)),(await m({userId:this.userId,roles:this.roles},{RequestVerificationToken:this.csrf})).ok)location.reload()},getNames:async function(){if(this.input.length<3)this.names=[];else{let e=await u(this.input);if(e.ok){let t=e.data;if(Array.isArray(t))this.names=t;else console.warn(t)}}},showImage:function(e){if(!this.image)this.image=document.createElement("img"),this.image.src=e.target.href,this.image.height=200,this.image.style.position="absolute",this.image.style.pointerEvents="none",document.body.append(this.image);this.image.style.display="block"},updateImage:function(e){this.image.style.left=`${e.clientX}px`,this.image.style.top=`${e.clientY}px`},hideImage:function(){this.image.style.display="none"}},mounted(){let e=this.$refs.dataElement;this.csrf=e.dataset.csrf,this.userId=Number(document.getElementById("id").innerText)}});

//# debugId=FE1B05B404C1C6C364756E2164756E21
