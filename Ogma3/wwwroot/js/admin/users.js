async function s(e,t,n,u,p){let a=await fetch(e,{method:t,headers:{"Content-Type":"application/json",...u},body:n?JSON.stringify(n):null,...p}),m=a.headers.get("content-type"),i;if(m?.includes("application/json"))i=await a.json();else i=await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:i}}var o=async(e,t,n)=>await s(`/admin/api/infractions/${e}`,"DELETE",void 0,t,n);var r=async(e,t,n)=>await s(`/api/users/names?name=${e}`,"GET",void 0,t,n);var d=async(e,t,n)=>await s("/api/users/roles","POST",e,t,n);new Vue({el:"#app",data:{csrf:null,rolesRoute:null,infractionsRoute:null,roles:[],userId:null,names:[],input:"",image:null},methods:{manageInfractions:function(){this.$refs.manage.visible=!0},removeInfraction:async function(e){if((await o(e,{RequestVerificationToken:this.csrf})).ok)location.reload()},saveRoles:async function(){if(this.roles=[...document.querySelectorAll("input[type=checkbox][name=roles]:checked")].map((t)=>Number.parseInt(t.value)),(await d({userId:this.userId,roles:this.roles},{RequestVerificationToken:this.csrf})).ok)location.reload()},getNames:async function(){if(this.input.length<3)this.names=[];else{let e=await r(this.input);if(e.ok){let t=e.data;if(Array.isArray(t))this.names=t;else console.warn(t)}}},showImage:function(e){if(!this.image)this.image=document.createElement("img"),this.image.src=e.target.href,this.image.height=200,this.image.style.position="absolute",this.image.style.pointerEvents="none",document.body.append(this.image);this.image.style.display="block"},updateImage:function(e){this.image.style.left=`${e.clientX}px`,this.image.style.top=`${e.clientY}px`},hideImage:function(){this.image.style.display="none"}},mounted(){let e=this.$refs.dataElement;this.csrf=e.dataset.csrf,this.userId=Number(document.getElementById("id").innerText)}});

//# debugId=2E4D518D8C63E4D864756E2164756E21
//# sourceMappingURL=users.js.map
