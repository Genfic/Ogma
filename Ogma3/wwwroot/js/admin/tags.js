async function s(e,t,n,i,m){let a=await fetch(e,{method:t,headers:{"Content-Type":"application/json",...i},body:n?JSON.stringify(n):null,...m}),c=a.headers.get("content-type"),o;if(c?.includes("application/json"))o=await a.json();else o=await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:o}}var r=async(e,t,n)=>await s(`/api/tags?tagId=${e}`,"DELETE",void 0,t,n);var d=async(e,t)=>await s("/api/tags/all","GET",void 0,e,t);var u=async(e,t,n)=>await s("/api/tags","POST",e,t,n);var p=async(e,t,n)=>await s("/api/tags","PUT",e,t,n);new Vue({el:"#app",data:{form:{name:null,desc:null,namespace:null,id:null},lens:null,err:[],tags:[]},methods:{createTag:async function(e){if(e.preventDefault(),this.err=[],this.form.name.length>this.lens.maxNameLength||this.form.name.length<this.lens.minNameLength)this.err.push(`Name has to be between ${this.lens.minNameLength} and ${this.lens.maxNameLength} characters long.`);if(this.form.desc&&this.form.desc.length>this.lens.maxDescLength)this.err.push(`Description has to be at most ${this.lens.maxDescLength} characters long.`);if(this.err.length>0)return;if(this.form.name){let t={name:this.form.name,namespace:this.form.namespace,description:this.form.desc},n={RequestVerificationToken:this.csrf};if(this.form.id===null){if((await u(t,n)).ok)await this.getTags()}else if((await p({id:this.form.id,...t},n)).ok)await this.getTags(),this.form.name=this.form.desc=this.form.namespace=this.form.id=null}},getTags:async function(){let e=await d();this.tags=e.data},deleteTag:async function(e){if(confirm("Delete permanently?")){if((await r(e.id)).ok)await this.getTags()}},editTag:function(e){this.form.name=e.name,this.form.desc=e.description,this.form.namespace=e.namespaceId,this.form.id=e.id},cancelEdit:function(){this.form.name=this.form.desc=this.form.namespace=this.form.id=null}},async mounted(){this.csrf=document.querySelector("input[name=__RequestVerificationToken]").value;let{Validation:e}=JSON.parse(document.getElementById("static-data").innerText);this.lens=e,await this.getTags()}});

//# debugId=5FDABA9969D0DA3F64756E2164756E21
//# sourceMappingURL=tags.js.map
