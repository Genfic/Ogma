var i="GET",d="POST",r="PUT";var u="DELETE";async function o(e,t,n,s,I){let a=await fetch(e,{method:t,headers:{"content-type":"application/json",...s},body:n&&JSON.stringify(n),...I}),C=a.headers.get("content-type")?.includes("application/json")?await a.json():await a.text();return{ok:a.ok,status:a.status,statusText:a.statusText,headers:a.headers,data:C}}var p=async(e,t,n)=>await o(`/api/roles?roleId=${e}`,u,void 0,t,n);var m=async(e,t)=>await o("/api/roles",i,void 0,e,t);var c=async(e,t,n)=>await o("/api/roles",d,e,t,n);var l=async(e,t,n)=>await o("/api/roles",r,e,t,n);new Vue({el:"#app",data:{form:{name:null,color:null,order:null,isStaff:null,id:null},roles:[],xcsrf:null},methods:{createRole:async function(e){if(e.preventDefault(),this.form.name){let t={name:this.form.name,color:this.form.color,isStaff:this.form.isStaff,order:Number(this.form.order)},n={RequestVerificationToken:this.xcsrf};if(this.form.id===null){if((await c(t,n)).ok)await this.getRoles()}else if((await l({id:this.form.id,...t},n)).ok)await this.getRoles(),this.cancelEdit()}},getRoles:async function(){let e=await m();if(e.ok)this.roles=e.data},deleteRole:async function(e){if(confirm("Delete permanently?")){if((await p(e.id,{RequestVerificationToken:this.xcsrf})).ok)await this.getRoles()}},editRole:function(e){this.form.name=e.name,this.form.color=e.color,this.form.id=e.id,this.form.order=e.order,this.form.isStaff=e.isStaff},cancelEdit:function(){this.form.name=this.form.color=this.form.id=this.form.isStaff=this.form.order=null}},async mounted(){this.xcsrf=document.querySelector("[name=__RequestVerificationToken]").value,await this.getRoles()}});

//# debugId=58E9EA9D9B39319E64756E2164756E21
