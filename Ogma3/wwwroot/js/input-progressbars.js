var J=new DOMParser,F=(E)=>{return J.parseFromString(E,"text/html").body.firstElementChild};var A=(E,H)=>!E||E.length<=0?[]:E.split(H),K=[...document.querySelectorAll("input.o-form-control:not([disabled]):not([nobar])"),...document.querySelectorAll("textarea.o-form-control:not([disabled]):not([nobar])")];for(let E of K){console.log(`Attaching ${E.type}`);let H;if(E.dataset.maxCount||E.dataset.valLengthMax||E.dataset.valMaxlengthMax)H="validated";else if(E.dataset.valFilesizeMax&&E.type==="file")H="file";else H="regular";let L={validated:Number(E.dataset.maxCount??E.dataset.valLengthMax??E.dataset.valMaxlengthMax),file:Number(E.dataset.valFilesizeMax),regular:E.maxLength??0}[H],B=Number(E.dataset.valLengthMin)??0,P=()=>{if(E.dataset.maxCount)return E.value.split(",").length;if(E.dataset.valFilesizeMax&&E.type==="file")return E.files[0]?.size??0;return E.value.length},T=F('<div class="counter"></div>'),b=F('<div class="o-progress-bar"></div>'),j=F(`<span>${P()}/${L}${H==="file"?" bytes":""}</span>`);T.appendChild(b);let O;if(E.dataset.wordcount)O=F(`<span>${A(E.value,/\s+/).length.toString()} words</span>`),T.appendChild(O);T.appendChild(j),E.after(T);let q=()=>{let M=P(),C=H==="file"?" bytes":"";if(j.innerText=`${M}/${L}${C}`,b.style.width=`${Math.min(100,100*(M/L))}%`,E.dataset.wordcount){let G=(A(E.value,/\s+/)??[]).length.toString();O.innerText=`${G} words`}T.classList.toggle("invalid",M<B||M>L)};console.log(`Listening to ${E.type}`),E.addEventListener("input",q),q()}

//# debugId=1757F35212B9CFB764756E2164756E21
//# sourceMappingURL=input-progressbars.js.map
