var U=new DOMParser,B=(j)=>{return U.parseFromString(j,"text/html").body.firstElementChild};var P=(j,q)=>!j||j.length<=0?[]:j.split(q),V=[...document.querySelectorAll("input.o-form-control:not([disabled]):not([nobar])"),...document.querySelectorAll("textarea.o-form-control:not([disabled]):not([nobar])")];for(let j of V){console.log(`Attaching ${j.type}`);let q;if(j.dataset.maxCount||j.dataset.valLengthMax||j.dataset.valMaxlengthMax)q="validated";else if(j.dataset.valFilesizeMax&&j.type==="file")q="file";else q="regular";let E={validated:Number(j.dataset.maxCount??j.dataset.valLengthMax??j.dataset.valMaxlengthMax),file:Number(j.dataset.valFilesizeMax),regular:j.maxLength??0}[q],Q=Number(j.dataset.valLengthMin)??0,H=()=>{if(j.dataset.maxCount)return j.value.split(",").length;if(j.dataset.valFilesizeMax&&j.type==="file")return j.files[0]?.size??0;return j.value.length},A=B('<div class="counter"></div>'),J=B('<div class="o-progress-bar"></div>'),K=B(`<span>${H()}/${E}${q==="file"?" bytes":""}</span>`);A.appendChild(J);let G;if(j.dataset.wordcount)G=B(`<span>${P(j.value,/\s+/).length.toString()} words</span>`),A.appendChild(G);A.appendChild(K),j.after(A);let O=()=>{let F=H(),R=q==="file"?" bytes":"";if(K.innerText=`${F}/${E}${R}`,J.style.width=`${Math.min(100,100*(F/E))}%`,j.dataset.wordcount){let T=(P(j.value,/\s+/)??[]).length.toString();G.innerText=`${T} words`}A.classList.toggle("invalid",F<Q||F>E)};console.log(`Listening to ${j.type}`),j.addEventListener("input",O),O()}

//# debugId=795775FB5AC24A6064756E2164756E21
