var J=new DOMParser,F=(E)=>{return J.parseFromString(E,"text/html").body.childNodes[0]};var q=(E,H)=>!E||E.length<=0?[]:E.split(H),K=[...document.querySelectorAll("input.o-form-control:not([disabled]):not([nobar])"),...document.querySelectorAll("textarea.o-form-control:not([disabled]):not([nobar])")];for(let E of K){console.log(`Attaching ${E.type}`);let H;if(E.dataset.maxCount||E.dataset.valLengthMax||E.dataset.valMaxlengthMax)H="validated";else if(E.dataset.valFilesizeMax&&E.type==="file")H="file";else H="regular";let L={validated:Number(E.dataset.maxCount??E.dataset.valLengthMax??E.dataset.valMaxlengthMax),file:Number(E.dataset.valFilesizeMax),regular:E.maxLength??0}[H],A=Number(E.dataset.valLengthMin)??0,O=()=>{if(E.dataset.maxCount)return E.value.split(",").length;if(E.dataset.valFilesizeMax&&E.type==="file")return E.files[0]?.size??0;return E.value.length},T=F('<div class="counter"></div>'),P=F('<div class="o-progress-bar"></div>'),b=F(`<span>${O()}/${L}${H==="file"?" bytes":""}</span>`);T.appendChild(P);let N;if(E.dataset.wordcount)N=F(`<span>${q(E.value,/\s+/).length.toString()} words</span>`),T.appendChild(N);T.appendChild(b),E.after(T);let j=()=>{let M=O(),B=H==="file"?" bytes":"";if(b.innerText=`${M}/${L}${B}`,P.style.width=`${Math.min(100,100*(M/L))}%`,E.dataset.wordcount){let G=(q(E.value,/\s+/)??[]).length.toString();N.innerText=`${G} words`}T.classList.toggle("invalid",M<A||M>L)};console.log(`Listening to ${E.type}`),E.addEventListener("input",j),j()}

//# debugId=F939412C2CDB7EB064756E2164756E21
//# sourceMappingURL=input-progressbars.js.map
