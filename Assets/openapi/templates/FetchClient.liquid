
{% if HasOperations -%}
{% if GenerateClientInterfaces -%}
{% if ExportTypes %}export {% endif %}interface I{{ Class }} {
{%     for operation in Operations -%}
    {% template Client.Method.Documentation %}
    {{ operation.MethodAccessModifier }}{{ operation.ActualOperationName }}({% for parameter in operation.Parameters %}{{ parameter.VariableName }}{% if GenerateOptionalParameters and parameter.IsOptional %}?{% endif %}: {{ parameter.Type }}{{ parameter.TypePostfix }}{% if parameter.IsLast == false %}, {% endif %}{% endfor %}): Promise<{{ operation.ResultType }}>;
{%     endfor -%}}
{% endif -%}

{% for operation in Operations -%}

{% template Client.Method.Documentation %}
export const {{ operation.ActualOperationName }} = ({% for parameter in operation.Parameters %}{{ parameter.VariableName }}{% if GenerateOptionalParameters and parameter.IsOptional %}?{% endif %}: {{ parameter.Type }}{{ parameter.TypePostfix }}{% if parameter.IsLast == false %}, {% endif %}{% endfor %}{% if HasConfigurationClass %}configuration: {{ ConfigurationClass }}, {% endif %}{% if operation.Parameters.size > 0 %}, {% endif %}baseUrl?: string{% if UseAbortSignal %}{% if operation.Parameters.size > 0 %}, {% endif %}signal?: AbortSignal | undefined{% endif %}): Promise<{{ operation.ResultType }}> => {
    
    {% template Client.RequestUrl %}

{%     if operation.HasBody -%}
    {% template Client.RequestBody %}

{%     endif -%}
    let options_ = <RequestInit>{
{%     if operation.HasBody -%}
        body: content_,
{%     endif -%}
        method: "{{ operation.HttpMethodUpper | upcase }}",
{%     if UseAbortSignal -%}
        signal,
{%     endif -%}
        headers: {
{%     for parameter in operation.HeaderParameters -%}
            "{{ parameter.Name }}": {{ parameter.VariableName }} !== undefined && {{ parameter.VariableName }} !== null ? "" + {{ parameter.VariableName }} : "",
{%     endfor -%}
{%     if operation.HasContent or operation.ConsumesFormUrlEncoded -%}
            "Content-Type": "{{ operation.Consumes }}",
{%     endif -%}
{%     if operation.HasResultType and operation.HasAcceptHeaderParameterParameter == false -%}
            "Accept": "{{ operation.Produces }}"
{%     endif -%}
        }
    };

{%     if UseTransformOptionsMethod -%}
    return transformOptions(options_).then(transformedOptions_ => {
        return fetch(url_, transformedOptions_);
    }).then((_response: Response) => {
{%     else -%}
    return fetch(url_, options_).then((_response: Response) => {
{%     endif -%}
{%     if UseTransformResultMethod -%}
        return transformResult(url_, _response, (_response: Response) => process{{ operation.ActualOperationNameUpper }}(_response));
{%     else -%}

        const process{{ operation.ActualOperationNameUpper }} = (response: Response): Promise<{{ operation.ResultType }}> => {
            const status = response.status;
            {% template Client.ProcessResponse %}
        }

        return process{{ operation.ActualOperationNameUpper }}(_response);
{%     endif -%}
    });
}


{% endfor -%}
{% endif -%}